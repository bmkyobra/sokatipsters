(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{557:function(e,t,a){e.exports=a.p+"static/media/privacy.f0bd1de9.md"},558:function(e,t,a){e.exports=a.p+"static/media/terms.84ee4cc6.md"},559:function(e,t,a){e.exports=a.p+"static/media/about.2a05dd20.md"},565:function(e,t,a){e.exports=a.p+"static/media/GTWalsheimPro-Regular.550c7b05.ttf"},566:function(e,t,a){e.exports=a.p+"static/media/GTWalsheimPro-Bold.8ee87a5a.ttf"},567:function(e,t,a){e.exports=a.p+"static/media/GTWalsheimPro-Medium.f2f36c73.ttf"},607:function(e,t,a){e.exports=a(771)},618:function(e,t,a){},650:function(e,t,a){var n={"./ar":439,"./ar.js":439,"./az":440,"./az.js":440,"./be":441,"./be.js":441,"./bg":442,"./bg.js":442,"./bs":443,"./bs.js":443,"./ca":444,"./ca.js":444,"./cs":445,"./cs.js":445,"./cy":446,"./cy.js":446,"./da":447,"./da.js":447,"./de":448,"./de.js":448,"./el":449,"./el.js":449,"./en":358,"./en.js":358,"./es":450,"./es.js":450,"./et":451,"./et.js":451,"./eu":452,"./eu.js":452,"./fa":453,"./fa.js":453,"./fi":454,"./fi.js":454,"./fr":455,"./fr.js":455,"./hr":456,"./hr.js":456,"./hu":457,"./hu.js":457,"./id":458,"./id.js":458,"./it":459,"./it.js":459,"./ja":460,"./ja.js":460,"./ka":461,"./ka.js":461,"./ko":462,"./ko.js":462,"./lt":463,"./lt.js":463,"./lv":464,"./lv.js":464,"./mk":465,"./mk.js":465,"./mn":466,"./mn.js":466,"./ms":467,"./ms.js":467,"./nb_NO":468,"./nb_NO.js":468,"./nl":469,"./nl.js":469,"./pl":470,"./pl.js":470,"./pt":471,"./pt.js":471,"./pt_BR":472,"./pt_BR.js":472,"./ro":473,"./ro.js":473,"./ru":474,"./ru.js":474,"./se":475,"./se.js":475,"./sl":476,"./sl.js":476,"./sq":477,"./sq.js":477,"./sr":478,"./sr.js":478,"./sv":479,"./sv.js":479,"./tr":480,"./tr.js":480,"./ua":481,"./ua.js":481,"./uk":482,"./uk.js":482,"./vi":483,"./vi.js":483,"./zh":484,"./zh.js":484,"./zh_TW":485,"./zh_TW.js":485};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=650},771:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(550),l=a.n(i),o=a(800),s=(a(614),a(615),a(616),a(617),a(618),a(545)),c=a(286),u=a(414),d=a(16),m=a(8),h=a(425),p=a(427),f=a(103),g=a(546),v=a(551),b=a(22),E=a(24),y=a(31),x=a(26),w=a(30),j=a(3),O=a(5),k=a(416),C=a(548),T=a(378),S=a(104),P=a(424),L=a(417);function W(e){var t=null===e.description,a=Object.assign({},e.sx,{display:"flex",flexDirection:"column",alignItems:"start"});return r.a.createElement(u.a,null,r.a.createElement(k.a,null,r.a.createElement(u.a,{sx:a},r.a.createElement(f.a,{variant:"h6",color:"black",fontWeight:500},e.title),t?null:r.a.createElement(f.a,{sx:{mt:0},variant:"caption"},e.description))),e.disableDivider?null:r.a.createElement(L.a,null))}var D=a(32),_=a(13),I=a(27),N=a(547),z=a(397),M=a(418),A=a(419),F=a(420),G=a(421),R=a(422),q=a(423),B=function(e){function t(e){var a;Object(b.a)(this,t);var n=(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).props.slip;return a.state={slip:n?n.slip:null,tips:n?n.tips:[],user:n?n.user:[],accumulator:n?n.accumulator:0},a.handleBuyTip=a.handleBuyTip.bind(Object(_.a)(Object(_.a)(a))),a.handleClickChip=a.handleClickChip.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleBuyTip",value:function(){this.props.navigate("/buy_tip/".concat(this.state.slip.id))}},{key:"handleClickChip",value:function(e){(0,this.props.navigate)("/profile/".concat(e))}},{key:"render",value:function(){var e=function(e){var t=e.username;return r.a.createElement(g.a,{to:"/profile/".concat(t),underline:"hover",color:"black"},r.a.createElement(z.a,{size:"small",style:{cursor:"pointer"},sx:{"& .MuiChip-label":{fontFamily:"GT Walsheim Pro",fontWeight:"500",fontSize:"small"}},avatar:r.a.createElement(N.a,Object.assign({style:{color:"white",fontWeight:"bold"}},Le(t))),label:t}))};try{if(!this.state.slip)return null;var t=[];if(this.state.slip)for(var a=0;a<this.state.tips.length;a++){var n=(new Date(this.state.tips[a].game_date)-Date.now())/36e5;n>0?"Not Started":n>-3?"In play":"Played",t.push(r.a.createElement(M.a,{key:a,disablePadding:!0,divider:!0},r.a.createElement(A.a,{secondaryTypographyProps:{color:"black"},primaryTypographyProps:{color:"black",fontSize:"smaller"},primary:"".concat(this.state.tips[a].home_team," vs ").concat(this.state.tips[a].away_team)})))}return r.a.createElement(C.a,{item:!0,xs:12,sm:6,md:4,lg:3,sx:{p:1,"@media screen and (max-width: 600px)":{width:"100%"}}},r.a.createElement(F.a,{elevation:0,variant:"outlined",sx:{display:"inline-block",m:0,width:"100%"}},r.a.createElement(G.a,{sx:{maxWidth:"100%",minHeight:220}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",p:0}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",p:0,m:0,gap:1,alignItems:"center"}},r.a.createElement(e,{username:this.state.user.username}),r.a.createElement(z.a,{size:"small",label:this.state.slip?function(e){var t=new Date(Date.parse(e));return new Intl.DateTimeFormat("en-US",{dateStyle:"medium"}).format(t)}(this.state.slip.date_created):null,sx:{"& .MuiChip-label":{fontFamily:"GT Walsheim Pro",fontWeight:"500",fontSize:"small"}}})),r.a.createElement(R.a,{sx:{width:"100%"}},t))),r.a.createElement(q.a,null,r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",height:1,width:1}}," ",this.props.buy?null:r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",gap:1}},r.a.createElement(P.a,{variant:"contained",size:"small",disableElevation:!0,sx:{width:1,flexWidth:5},onClick:this.handleBuyTip},"BUY @Ksh. ",this.state.slip.price),r.a.createElement(P.a,{variant:"outlined",disableElevation:!0,sx:{display:"flex",gap:1,width:1,flexWidth:5}},r.a.createElement(f.a,{variant:"caption"},"Odds"),r.a.createElement(f.a,{variant:"subtitle2",sx:{color:"#b20038"}},"\t".concat(this.state.accumulator))))))))}catch(i){return console.log(i),null}}}]),t}(r.a.Component);function U(e){var t=Object(d.o)();return r.a.createElement(B,Object.assign({},e,{navigate:t}))}function V(e){var t=Object(d.o)(),a=function(){e.user?t("/active_tips/".concat(e.user)):e.top?t("/active_tips?type=top"):t("/active_tips")},n={activeTips:e.slips?e.slips:null},i=[];if(n.activeTips)for(var l=0;l<Math.min(n.activeTips.length,8);l++)i.push(r.a.createElement(U,{slip:n.activeTips[l].result,navigate:t}));else for(var o=0;o<2;o++)i.push(r.a.createElement(C.a,{item:!0,xs:12,sm:6,md:4,lg:3,sx:{p:1,"@media screen and (max-width: 600px)":{width:"100%"}}},r.a.createElement(T.a,{variant:"rectangular",width:"100%",height:257})));return e.home?r.a.createElement(u.a,{sx:{p:0,m:0}},r.a.createElement(S.a,{square:!0,elevation:1,sx:{py:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:0},title:"Active Tips",description:"View Tips"}),r.a.createElement(u.a,{sx:{p:0,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(C.a,{container:!0,spacing:0,sx:{m:0,p:0,maxWidth:"100%"}},i.map(function(e){return e})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(P.a,{size:"small",onClick:a},"See More"))))):r.a.createElement(u.a,{sx:{p:0,m:1}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{py:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:0},title:"Active Tips",description:"View user information"}),r.a.createElement(k.a,{sx:{mt:1,p:0}},r.a.createElement(u.a,{sx:{p:0,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(C.a,{container:!0,spacing:0,sx:{m:0,p:0,maxWidth:"100%"}},i.map(function(e){return e})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(P.a,{size:"small",onClick:a},"See More")))))))}var H=a(426),X=a(787);function Y(e){for(var t=e.tip,a=r.a.useState(!1),n=Object(m.a)(a,2),i=n[0],l=n[1],o=function(e){var t=e.username;return r.a.createElement(g.a,{to:"/profile/".concat(t),underline:"hover",color:"black"},r.a.createElement(z.a,{size:"small",style:{cursor:"pointer"},sx:{"& .MuiChip-label":{fontFamily:"GT Walsheim Pro",fontWeight:"500",fontSize:"small"}},avatar:r.a.createElement(N.a,Object.assign({style:{color:"white",fontWeight:"bold"}},Le(t))),label:t}))},s=function(e){var t=e.result;return"W"===t?r.a.createElement(z.a,{size:"small",label:"won",color:"success"}):"L"===t?r.a.createElement(z.a,{size:"small",label:"lost",color:"error"}):r.a.createElement(z.a,{size:"small",label:"cancel"})},c=function(t){var a=t._tip;return r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1}},r.a.createElement(f.a,{variant:"subtitle2"},"".concat(a.home_team," vs ").concat(a.away_team)),r.a.createElement(f.a,{variant:"caption"},"[".concat(a.game_result,"] Predicted (").concat(function(t){if(!e.markets)return null;var a=e.markets.filter(function(e){return e.id===parseInt(t)});return a[0]?"".concat(a[0].type,"| ").concat(a[0].value):null}(a.market_type),")")))},d=[],v=0;t&&v<t.tips.length;v++){var b=t.tips[v];d.push(r.a.createElement(c,{_tip:b}))}var E=function(){l(!0)},y=function(){return t?t.tips.length<=2?null:r.a.createElement(g.a,{to:"#",underline:"none",onClick:E},r.a.createElement(f.a,{variant:"caption"},"View All")):null};return r.a.createElement(S.a,{variant:"outlined",sx:{w:"100%",p:1}},r.a.createElement(h.a,{open:i,onClose:function(){l(!1)}},r.a.createElement(H.a,null,"Tips"),r.a.createElement(p.a,null,r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},d))),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"row",gap:1}},r.a.createElement(u.a,null,r.a.createElement(o,{username:t.user.username,profile:null})),r.a.createElement(s,{result:t.slip.slip_result}),r.a.createElement(y,null)),r.a.createElement(f.a,{variant:"button",sx:{p:0,m:0}},function(e){var t=new Date(Date.parse(e));return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(t)}(t.slip.date_created))),r.a.createElement(u.a,{sx:{mt:1,display:"flex",flexDirection:"column"}},d.slice(0,2))))}var K=function(e){var t=Object(d.o)(),a=e.markets,n={finishedTips:e.slips?e.slips:null},i=[],l=0;if(n.finishedTips)n.finishedTips.map(function(t){e.user&&t.user.username!==e.user||l>=10||(l+=1,i.push(r.a.createElement(C.a,{item:!0,md:12,sm:12,lg:6},r.a.createElement(Y,{tip:t,markets:a}))))});else for(var o=0;o<2;o++)i.push(r.a.createElement(C.a,{item:!0,md:12,sm:12,lg:6},r.a.createElement(u.a,{sx:{width:"100%"}},r.a.createElement(X.a,null),r.a.createElement(X.a,{animation:"wave"}),r.a.createElement(X.a,{animation:!1}))));return r.a.createElement(u.a,{sx:{p:0,m:1}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:0},title:e.user?"Latest Finished Tips":"Latest Won Tips",description:"The most recent tips posted"}),r.a.createElement(k.a,{sx:{mt:1}},r.a.createElement(u.a,{sx:{p:0,m:0,width:"100%",display:"flex",flexDirection:"column"}},r.a.createElement(C.a,{container:!0,spacing:1},i),r.a.createElement(P.a,{size:"small",onClick:function(){e.user?t("/finished_tips/".concat(e.user)):t("/finished_tips")}},"See More"))))))},J=a(788),$=a(553),Z=a.n($).a.create({baseURL:"https://app.sokafans.com"}),Q=a(543),ee=a(554),te=a(383),ae=a.n(te);function ne(e){var t=Object(ee.a)();return r.a.createElement(u.a,{sx:{p:0,mx:e.sx?0:1}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(Q.a,{separator:r.a.createElement(ae.a,{fontSize:"small"})},t.map(function(e){var t=e.match,a=e.breadcrumb;return r.a.createElement(g.a,{underline:"hover",variant:"body2",fontFamily:"GT Walsheim Pro",fontWeight:"bold",fontSize:"small",to:t.pathname},a)})))))}var re=a(131);var ie=["","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function oe(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=r.a.useRef(document.title);r.a.useEffect(function(){document.title=e},[e]),r.a.useEffect(function(){return function(){t||(document.title=a.current)}},[])}(e.title),r.a.createElement(r.a.Fragment,null)}var se=a(389),ce=a(390),ue=a(398),de=a(488),me=a(391),he=a(789),pe=a(486),fe=a(326),ge=a.n(fe),ve=a(555),be={color:"white",background:"#084ce8"},Ee={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",maxWidth:448,bgcolor:"background.paper",borderRadius:1,boxShadow:24,p:0,display:"flex",flexDirection:"column",justifyContent:"center"},ye=a(803),xe={fontWeight:"500",marginBottom:5},we={fontWeight:"500"},je=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={username:"",email:"",phoneNumber:"",password:"",confirmPassword:"",profileImage:null,profileImageName:"",emailError:null,usernameError:null,phoneError:null,passwordError:null,confirmError:null,uploading:!1},a.handleRegister=a.handleRegister.bind(Object(_.a)(Object(_.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(_.a)(Object(_.a)(a))),a.handleFileUpload=a.handleFileUpload.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleRegister",value:function(){var e=this,t=this.props.cookies,a={username:this.state.username,email:this.state.email,phoneNumber:this.state.phoneNumber,password:this.state.password,confirmPassword:this.state.confirmPassword},n=new ve(a,{username:"required",email:"required|email",phoneNumber:"required|digits:10",password:"required|min:8",confirmPassword:"required|min:8"});if(n.fails(null)){var r=n.errors.first("email"),i=n.errors.first("username"),l=n.errors.first("phoneNumber"),o=n.errors.first("password"),s=n.errors.first("confirmPassword");this.setState({emailError:r,usernameError:i,phoneError:l,passwordError:o,confirmError:s})}else if(this.state.confirmPassword===this.state.password){this.setState({emailError:null,usernameError:null,phoneError:null,passwordError:null,confirmError:null});var c={method:"POST",url:"/api/account/register",headers:{"Content-Type":"application/json"},data:{username:a.username,password:a.password,email:a.email,phone_number:a.phoneNumber}};Z.request(c).then(function(a){var n=a.data;t.set("token",n.token),t.set("refresh",n.refresh),e.props.handleRegister()}).catch(function(t){var a=t.response.data;a.username&&e.setState({usernameError:a.username})})}else this.setState({confirmError:"Must be similar to password"})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(j.a)({},n,a))}},{key:"handleFileUpload",value:function(e){if(e.target.files){var t=e.target.files[0],a=t.name;this.setState({profileImageName:a,profileImage:t})}}},{key:"render",value:function(){var e=this.props,t=e.hideLogin,a=e.handleLogin;return r.a.createElement(u.a,{sx:Ee},r.a.createElement(u.a,{sx:{paddingTop:5,"@media screen and (max-width: 40em)":{paddingTop:15},paddingBottom:"0 !important",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(f.a,{id:"modal-modal-register-title",variant:"h5",component:"div",fontWeight:500},"Registration")),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:6,paddingY:1}},r.a.createElement(pe.a,{error:this.state.emailError,helperText:this.state.emailError,label:"Email",variant:"standard",autoComplete:"off",required:!0,InputLabelProps:{style:Object(I.a)({},we)},inputProps:{style:Object(I.a)({},xe)},type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange}),r.a.createElement(pe.a,{error:this.state.usernameError,helperText:this.state.usernameError,label:"Username",variant:"standard",autoComplete:"off",required:!0,InputLabelProps:{style:Object(I.a)({},we)},inputProps:{style:Object(I.a)({},xe)},type:"text",name:"username",value:this.state.username,onChange:this.handleInputChange}),r.a.createElement(pe.a,{error:this.state.phoneError,helperText:this.state.phoneError,label:"Phone Number",variant:"standard",autoComplete:"off",required:!0,InputLabelProps:{style:Object(I.a)({},we)},inputProps:{style:Object(I.a)({},xe)},type:"tel",name:"phoneNumber",value:this.state.phoneNumber,onChange:this.handleInputChange}),r.a.createElement(pe.a,{error:this.state.passwordError,helperText:this.state.passwordError,label:"Password",variant:"standard",autoComplete:"off",required:!0,InputLabelProps:{style:Object(I.a)({},we)},style:Object(I.a)({},xe),type:"password",inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}},name:"password",value:this.state.password,onChange:this.handleInputChange}),r.a.createElement(pe.a,{error:this.state.confirmError,helperText:this.state.confirmError,label:"Confirm Password",variant:"standard",autoComplete:"off",required:!0,InputLabelProps:{style:Object(I.a)({},we)},style:Object(I.a)({},xe),type:"password",inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}},name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleInputChange}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"}},r.a.createElement(P.a,{variant:"outlined",component:"label",startIcon:r.a.createElement(ge.a,null)},"Upload Profile",r.a.createElement("input",{type:"file",hidden:!0,onChange:this.handleFileUpload})),r.a.createElement(f.a,{component:"label",fontSize:10,variant:"subtitle2"},"Optional*")),r.a.createElement(u.a,{sx:{p:1,m:1,display:"flex",flexDirection:"column",justifyContent:"center",gap:0}},r.a.createElement(ye.a,{variant:"contained",sx:{minWidth:200,marginBottom:1},disableElevation:!0,loading:this.state.uploading,onClick:this.handleRegister},"Register"),r.a.createElement(f.a,{variant:"subtitle2",alignSelf:"center",style:{textAlign:"center"}},"By creating an account, you agree to our",r.a.createElement(g.a,{href:"#",underline:"none",variant:"body2"}," ","privacy policy.")))),t?null:r.a.createElement(u.a,{sx:{height:40,display:"flex",flexDirection:"column",justifyContent:"center"},style:{background:"#e0e0e0"}},r.a.createElement(f.a,{variant:"subtitle2",fontSize:15,alignSelf:"center",style:{textAlign:"center"}},"Already have an account?",r.a.createElement(g.a,{href:"#",underline:"none",variant:"body2",onClick:a}," ","Login."))))}}]),t}(r.a.Component);var Oe=Object(J.a)(function(e){return r.a.createElement(je,e)}),ke=a(539),Ce=a(489);r.a.Component;function Te(){Te=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,a){return e[t]=a}}function c(e,t,a,r){var i=t&&t.prototype instanceof m?t:m,l=Object.create(i.prototype),o=new k(r||[]);return n(l,"_invoke",{value:x(e,a,o)}),l}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var d={};function m(){}function h(){}function p(){}var f={};s(f,i,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==t&&a.call(v,i)&&(f=v);var b=p.prototype=m.prototype=Object.create(f);function E(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var r;n(this,"_invoke",{value:function(n,i){function l(){return new t(function(r,l){!function n(r,i,l,o){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,l,o)},function(e){n("throw",e,l,o)}):t.resolve(d).then(function(e){c.value=e,l(c)},function(e){return n("throw",e,l,o)})}o(s.arg)}(n,i,r,l)})}return r=r?r.then(l,l):l()}})}function x(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return T()}for(a.method=r,a.arg=i;;){var l=a.delegate;if(l){var o=w(l,a);if(o){if(o===d)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function w(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(y.prototype),s(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var l=new y(c(t,a,n,r),i);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},E(b),s(b,o,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return l.type="throw",l.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;O(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:C(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}function Se(e){var t,a=0;for(t=0;e&&t<e.length;t+=1)a=e.charCodeAt(t)+((a<<5)-a);var n="#";for(t=0;t<3;t+=1){n+="00".concat((a>>8*t&255).toString(16)).slice(-2)}return n}function Pe(e){var t=e.name,a=e.sx;return{sx:Object(I.a)({bgcolor:Se(t)},a),children:"".concat(t.split(" ")[0][0]).concat(t.split(" ").length>1?t.split(" ")[1][0]:"")}}function Le(e){return{sx:{bgcolor:Se(e)},children:"".concat(e.split(" ")[0][0]).concat(e.split(" ").length>1?e.split(" ")[1][0]:"")}}function We(e){re.a.pageview(window.location.pathname+window.location.search);var t=Object(d.o)(),a=e.profile?e.profile.subscribed?"Active Subscription":"Not Subscribed":"",n=[{title:"Tips",value:e.stats?e.stats[0].tips:0},{title:"Wins",value:e.stats?e.stats[1].won:0},{title:"Losses",value:e.stats?e.stats[3].lost:0},e.week?{title:"Week Rating",value:e.stats2?e.stats2.week_rating:0}:{title:"Rating",value:e.stats?e.stats[4].rating:0}];return r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",p:0,width:"100%","@media screen and (max-width: 600px)":{width:"100%"}}},r.a.createElement(S.a,{variant:"outlined",sx:{p:1,mx:0,my:1,minWidth:"100%",borderRadius:1}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{sx:{minHeight:"100%",p:0,display:"flex",gap:1,flexDirection:"column",alignItems:"left"}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-end",gap:1,p:0}},e.profile&&e.profile.profile_image_url?r.a.createElement(N.a,{sx:{ml:0,p:0},alt:"Profile Pic",src:e.profile&&e.profile.profile_image_url?e.profile.profile_image_url:null}):r.a.createElement(N.a,Le(e.user?e.user.username:"S F")),r.a.createElement(f.a,{sx:{mx:1},variant:"subtitle1",fontWeight:"bold"},e.user?e.user.username:""),e.profileSet&&r.a.createElement(f.a,{sx:{mx:1},variant:"caption",fontWeight:"bold",fontStyle:"italics"},a)),r.a.createElement(L.a,null),r.a.createElement(C.a,{sx:{pl:1},container:!0,rowSpacing:0,columnSpacing:{xs:1,sm:2,md:2}},r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(f.a,{variant:"subtitle1",fontWeight:500},n[0].title)),r.a.createElement(C.a,{item:!0,xs:6},n[0].value),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(f.a,{variant:"subtitle1",fontWeight:500},n[1].title)),r.a.createElement(C.a,{item:!0,xs:6},n[1].value),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(f.a,{variant:"subtitle1",fontWeight:500},n[2].title)),r.a.createElement(C.a,{item:!0,xs:6},n[2].value),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(f.a,{variant:"subtitle1",fontWeight:500},n[3].title)),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(f.a,{variant:"subtitle2",fontWeight:500},n[3].value," %")))),e.profileSet?null:r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column-reverse",alignItems:"flex-start",p:1,marginTop:1,height:1,width:1}},r.a.createElement(P.a,{variant:"contained",size:"small",disableElevation:!0,sx:{width:1},onClick:function(){t("/profile/".concat(e.user?e.user.username:""))}},"View Tips")))))}re.a.initialize("G-4MYXBP6X4T");var De=function(e){function t(e){var a;Object(b.a)(this,t),a=Object(y.a)(this,Object(x.a)(t).call(this,e));var n=e.params.username;return a.state={username:n,markets:null,user:null,profile:null,stats:null,active_tips:null,finished_tips:null,activeTips:null,finishedTips:null,subscribed:!1,matches:window.matchMedia("(min-width: 768px)").matches,title:n?"SokaFans | ".concat(n):"SokaFans | Profile"},a.handleInitProfile=a.handleInitProfile.bind(Object(_.a)(Object(_.a)(a))),a.handleInitActiveTips=a.handleInitActiveTips.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadFinishedTips=a.handleLoadFinishedTips.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadMarkets=a.handleLoadMarkets.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.matchMedia("(min-width: 768px)").addEventListener("change",function(t){return e.setState({matches:t.matches})}),this.handleLoadMarkets().then(function(){console.log("Loaded Markets")}),this.handleInitProfile(),this.handleInitActiveTips(),this.handleLoadFinishedTips()}},{key:"handleInitProfile",value:function(){var e=this,t=this.props.cookies,a={method:"GET",url:"/api/account/profile",headers:{Authorization:"Bearer ".concat(t.get("token"))}},n={method:"GET",url:"/api/account/profile/".concat(this.state.username)},r=this.state.username?n:a;Z.request(r).then(function(t){var a=t.data;e.setState({user:a.user,username:a.user.username,profile:a.profile,subscribed:a.profile&&a.profile.subscribed,stats:a.stats,active_tips:a.active_tips,finished_tips:a.finished_tips},function(){e.handleInitActiveTips(),e.handleLoadFinishedTips()})}).catch(function(e){})}},{key:"handleInitActiveTips",value:function(){var e=this,t=this.props.cookies,a={method:"GET",url:"/v2/api/slip/data/?account=1",headers:{Authorization:"Bearer ".concat(t.get("token"))}},n={method:"GET",url:"/v2/api/slip/data/?username=".concat(this.state.username)},r=this.state.username?n:a;Z.request(r).then(function(t){var a=t.data;e.setState({activeTips:a.results})}).catch(function(e){console.log(e)})}},{key:"handleLoadFinishedTips",value:function(){var e=this,t={method:"GET",url:"/api/home/finished/all/".concat(this.state.username)};Z.request(t).then(function(t){var a=t.data;e.setState({finishedSlips:a.slips})}).catch(function(e){e&&console.log(e.response.data)})}},{key:"handleLoadMarkets",value:function(){var e=Object(D.a)(Te().mark(function e(){var t,a=this;return Te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",url:"/api/slip/markets"},e.next=3,Z.request(t).then(function(e){var t=e.data.markets;a.setState({markets:t})}).catch(function(e){e&&console.log(e.response.data)});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.profile;e&&e.subscribed;return r.a.createElement(u.a,null,r.a.createElement(oe,{title:this.state.title}),r.a.createElement(ne,null),r.a.createElement(u.a,null,r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:this.state.matches?0:1,my:1,borderRadius:1,maxWidth:400}},r.a.createElement(W,{sx:{pl:0},title:"Profile",description:"View user information"}),r.a.createElement(We,{profileSet:!0,profile:this.state.profile,user:this.state.user,stats:this.state.stats,sx:{ml:1}}))),r.a.createElement(V,{slips:this.state.activeTips,user:this.state.username}),r.a.createElement(K,{slips:this.state.finishedSlips,user:this.state.username,markets:this.state.markets})))}}]),t}(r.a.Component);var _e=Object(J.a)(function(e){var t=Object(d.q)();return r.a.createElement(De,Object.assign({},e,{params:t}))}),Ie=Object(O.a)(k.a)(function(e){var t,a=e.theme;return t={},Object(j.a)(t,a.breakpoints.down("md"),{padding:0}),Object(j.a)(t,a.breakpoints.up("md"),{padding:0}),t});function Ne(e){var t=e.data,a={user:t.user,profile:t.profile,stats:t.stats,stats2:t.stats2,active_tips:t.active_tips,finished_tips:t.finished_tips};return r.a.createElement(We,{profile:a.profile,user:a.user,stats:a.stats,stats2:a.stats2,week:e.week})}var ze=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={tipsters:e.tipsters?e.tipsters:[]},a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props.tipsters;console.log(n),n!==e.tipsters&&(null===n?this.setState({tipsters:[]}):this.setState({tipsters:n}))}},{key:"render",value:function(){var e=this,t=this.props.home,a=this.state.tipsters,n=[],i=a?a.length:0,l=t?Math.min(i,8):i;if(0===i)for(var o=0;o<2;o++)n.push(r.a.createElement(C.a,{xs:12,sm:6,md:6,lg:3,item:!0,sx:{m:0,p:1}},r.a.createElement(T.a,{variant:"rectangular",width:"100%",height:257})));else for(var s=0;s<l;s++)n.push(r.a.createElement(C.a,{xs:12,sm:6,md:6,lg:3,item:!0,sx:{m:0,p:1}},r.a.createElement(Ne,{week:this.props.week,data:this.state.tipsters[s].result})));return r.a.createElement(u.a,{sx:{p:0,m:1}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{title:"Top Tipsters",description:"The best tipsters in this site"}),r.a.createElement(C.a,{container:!0,spacing:0,sx:{m:0}},n.map(function(e){return e})),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(P.a,{size:"small",onClick:function(){var t=e.props.navigate;e.props.week?t("/top_tipsters?type=weekly"):t("/top_tipsters")}},"See More")))))}}]),t}(r.a.Component);var Me=Object(J.a)(function(e){var t=Object(d.o)();return r.a.createElement(ze,Object.assign({},e,{navigate:t}))}),Ae=a(556),Fe=a.n(Ae),Ge=a(557),Re=a.n(Ge),qe=a(558),Be=a.n(qe),Ue=a(559),Ve=a.n(Ue);function He(e){return r.a.createElement(Fe.a,{className:"markdown",style:{fontFamily:"GT Walsheim Pro",fontWeight:"small",fontSize:10}},e.file)}function Xe(){var e=r.a.useState(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],i=r.a.useState(null),l=Object(m.a)(i,2),o=l[0],s=l[1],c=r.a.useState(null),d=Object(m.a)(c,2),b=d[0],E=d[1],y=r.a.useState(null),x=Object(m.a)(y,2),w=x[0],j=x[1],O=r.a.useState(null),k=Object(m.a)(O,2),C=k[0],T=k[1];r.a.useEffect(function(){b||fetch(Re.a).then(function(e){return e.text()}).then(function(e){E(e)}).catch(function(e){console.log(e)}),w||fetch(Be.a).then(function(e){return e.text()}).then(function(e){j(e)}).catch(function(e){console.log(e)}),C||fetch(Ve.a).then(function(e){return e.text()}).then(function(e){T(e)}).catch(function(e){console.log(e)})});return r.a.createElement(u.a,{sx:{flex:"0 0 50px",backgroundColor:"#06001E",marginTop:"auto"}},r.a.createElement(h.a,{open:a,onClose:function(){return n(!1)}},r.a.createElement(p.a,null,r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(He,{file:o})))),r.a.createElement(Ie,null,r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{sx:{m:1,display:"flex",flexDirection:"row",flexWrap:"wrap",gap:3}},r.a.createElement(u.a,{sx:{mx:2,display:"flex",flexDirection:"column"}},r.a.createElement(f.a,{component:"div",color:"white",variant:"h6"},"Soka Fans")),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(f.a,{component:"div",color:"white",variant:"h6"},"Links"),r.a.createElement(g.a,{to:"#",underline:"hover",onClick:function(){s(b),n(!0)}},r.a.createElement(f.a,{variant:"caption"},"Privacy Policy")),r.a.createElement(g.a,{to:"#",underline:"hover",onClick:function(){s(w),n(!0)}},r.a.createElement(f.a,{variant:"caption"},"Terms of Service")),r.a.createElement(g.a,{to:"#",underline:"hover",onClick:function(){s(C),n(!0)}},r.a.createElement(f.a,{variant:"caption"},"About"))),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(f.a,{component:"div",color:"white",variant:"h6"},"Contacts"),r.a.createElement(g.a,{to:"#",underline:"hover",onClick:function(e){window.location.href="mailto:support@sokafans.com",e.preventDefault()}},r.a.createElement(f.a,{variant:"caption"},"support@sokafans.com")),r.a.createElement(g.a,{to:"#",underline:"hover",onClick:function(e){window.location.href="tel:+254745406125",e.preventDefault()}},r.a.createElement(f.a,{variant:"caption"},"+254-745-406125")))),r.a.createElement(u.a,{sx:{width:"100%",display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"subtitle2",fontWeight:300,fontSize:"small",color:"darkgrey"},"Copyright \xa9 ",(new Date).getFullYear()," SokaFans")))),r.a.createElement(v.a,{location:"bottom",buttonText:"Accept!!",cookieName:"cookieUse",style:{background:"#000",fontFamily:"GT Walsheim Pro"},buttonStyle:{color:"#1565C0",fontSize:"13px"},expires:150},"This website uses cookies to enhance the user experience."," "))}a(522),a(523);var Ye=a(524),Ke=a(525),Je=a(234),$e=a(802),Ze=a(327),Qe=a(790),et=a(791),tt={fontWeight:"500",marginBottom:5},at={fontWeight:"500"};function nt(e){var t=e.error,a=e.value,n=e.onChange,i=e.ariaLabel,l=e.label,o=r.a.useState(!1),s=Object(m.a)(o,2),c=s[0],u=s[1];return r.a.createElement(se.a,{variant:"outlined"},r.a.createElement(ce.a,{htmlFor:i},l),r.a.createElement(ue.a,{id:i,label:"New Password",value:a,error:t,onChange:n,inputLabelProps:{style:Object(I.a)({},at,{color:"black"})},inputProps:{style:Object(I.a)({},tt)},size:"small",type:c?"text":"password",endAdornment:r.a.createElement(de.a,{position:"end"},r.a.createElement(Ze.a,{"aria-label":"toggle password visibility",onClick:function(){u(!c)},onMouseDown:function(e){e.preventDefault()},edge:"end"},c?r.a.createElement(Qe.a,null):r.a.createElement(et.a,null)))}),r.a.createElement(me.a,{error:""!==t},t))}function rt(e){var t=Object($e.a)(["token","refresh"]),a=Object(m.a)(t,2),n=(a[0],a[1]),i=r.a.useState(""),l=Object(m.a)(i,2),o=l[0],s=l[1],c=r.a.useState(""),d=Object(m.a)(c,2),h=d[0],p=d[1],v=r.a.useState(""),b=Object(m.a)(v,2),E=b[0],y=b[1],x=r.a.useState(!1),w=Object(m.a)(x,2),j=w[0],O=w[1];return r.a.createElement(u.a,{sx:Ee},r.a.createElement("form",null,r.a.createElement(u.a,{sx:{paddingTop:5,paddingBottom:0,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(f.a,{id:"modal-modal-login-title",variant:"h5",component:"div",fontWeight:500},"Login")),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:6,paddingY:5}},r.a.createElement(pe.a,{label:"Email",variant:"outlined",size:"small",InputLabelProps:{style:Object(I.a)({},{fontWeight:"500"})},inputProps:{style:Object(I.a)({},{fontWeight:"500",marginBottom:5})},type:"email",value:o,onChange:function(e){s(e.target.value)}}),r.a.createElement(nt,{label:"Password",value:h,onChange:function(e){p(e.target.value)}}),r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"column",justifyContent:"center",gap:3}},r.a.createElement(ye.a,{loading:j,variant:"contained",sx:{w:1,minWidth:"100%"},disableElevation:!0,onClick:function(){O(!0),y(""),Z.post("/api/account/email-login",{email:o,password:h}).then(function(t){var a=t.data;O(!1),y("Success"),a.access&&n("token",a.access),a.refresh&&n("refresh",a.refresh),e.handleLogin()}).catch(function(){O(!1),y("Invalid Email/Password.")})}},"Login"),r.a.createElement(f.a,{variant:"caption",display:"block",color:"red"},E),r.a.createElement(P.a,{variant:"text",onClick:e.handleForgotPass},"Forgot Password"))),r.a.createElement(u.a,{sx:{height:40,display:"flex",flexDirection:"column",justifyContent:"center"},style:{background:"#e0e0e0"}},r.a.createElement(f.a,{variant:"subtitle2",fontSize:15,alignSelf:"center",style:{textAlign:"center"}},"Don't have an account?",r.a.createElement(g.a,{href:"#",underline:"none",variant:"body2",onClick:e.handleRegister}," ","Register.")))))}function it(e){var t=r.a.useState(""),a=Object(m.a)(t,2),n=a[0],i=a[1],l=r.a.useState(""),o=Object(m.a)(l,2),s=o[0],c=o[1];return r.a.createElement(u.a,{sx:Ee},r.a.createElement("form",null,r.a.createElement(u.a,{sx:{paddingTop:5,paddingBottom:0,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(f.a,{id:"modal-modal-login-title",variant:"h5",component:"div",fontWeight:500},"Password Reset")),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:8,paddingY:5}},r.a.createElement(pe.a,{label:"Email",variant:"standard",InputLabelProps:{style:Object(I.a)({},{fontWeight:"500"})},inputProps:{style:Object(I.a)({},{fontWeight:"500",marginBottom:5})},type:"email",value:n,onChange:function(e){i(e.target.value)}}),r.a.createElement(u.a,{sx:{p:1,m:1,display:"flex",flexDirection:"column",justifyContent:"center",gap:3}},r.a.createElement(P.a,{variant:"contained",sx:{w:1,minWidth:"100%"},disableElevation:!0,onClick:function(){c("");var e={method:"POST",url:"/api/account/reset-password/",headers:{"Content-Type":"application/json"},data:{email:n}};Z.request(e).then(function(e){e&&c("Check your email for the link")}).catch(function(e){c(e.response.data.email)})}},"Reset The Password"),r.a.createElement(f.a,{variant:"caption",display:"block",color:"red"},s),r.a.createElement(P.a,{variant:"text",component:"div",onClick:e.handleLogin},"Remembered The Password?")))))}var lt=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={open:!1,rOpen:!1,loginText:null},a.updateLoginText=a.updateLoginText.bind(Object(_.a)(Object(_.a)(a))),a.handleOpen=a.handleOpen.bind(Object(_.a)(Object(_.a)(a))),a.handleOpenForgotPass=a.handleOpenForgotPass.bind(Object(_.a)(Object(_.a)(a))),a.handleOpenRegistration=a.handleOpenRegistration.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.setState({open:!1,rOpen:!1,fOpen:!1}),window.addEventListener("resize",this.updateLoginText),this.updateLoginText()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateLoginText)}},{key:"updateLoginText",value:function(){this.setState({loginText:window.innerWidth<720?null:"LOGIN"})}},{key:"handleOpen",value:function(){this.handleCloseModals(),this.setState({open:!0})}},{key:"handleOpenRegistration",value:function(){this.handleCloseModals(),this.setState({rOpen:!0})}},{key:"handleOpenForgotPass",value:function(){this.handleCloseModals(),this.setState({fOpen:!0})}},{key:"handleCloseModals",value:function(){this.setState({open:!1,rOpen:!1,fOpen:!1})}},{key:"render",value:function(){var e=this,t=this.state.open,a=this.state.rOpen,n=this.state.fOpen,i=function(){e.handleCloseModals()},l=function(){e.props.handleLogin(),e.handleCloseModals()};return r.a.createElement(u.a,{sx:{p:0,m:0}},r.a.createElement(P.a,{style:Object(I.a)({},be),sx:this.props.sx,variant:"contained",onClick:function(){e.handleOpenRegistration()}},"Become a Tipster"),r.a.createElement(Je.a,{open:a,onClose:i,"aria-labelledby":"modal-modal-register-title"},r.a.createElement(Oe,{handleRegister:l,handleLogin:this.handleOpen})),r.a.createElement(P.a,{style:{background:"#211b36"},sx:Object(I.a)({},this.props.sx),variant:"contained",onClick:function(){e.handleOpen()}},"Login"),r.a.createElement(Je.a,{open:t,onClose:i,"aria-labelledby":"modal-modal-login-title","aria-describedby":"modal-modal-login-description"},r.a.createElement(rt,{handleLogin:l,handleForgotPass:this.handleOpenForgotPass,handleRegister:this.handleOpenRegistration})),r.a.createElement(Je.a,{open:n,onClose:i,"aria-labelledby":"modal-modal-forgot-title","aria-describedby":"modal-modal-forgot-description"},r.a.createElement(it,{handleLogin:function(){e.handleCloseModals(),e.handleOpen()},handleForgotPass:function(){e.handleCloseModals()}})))}}]),t}(r.a.Component),ot=a(311),st=a(40),ct=a(521),ut=a(562),dt=a.n(ut),mt=a(563),ht=a.n(mt),pt=a(564),ft=a.n(pt),gt=a(560),vt=a.n(gt),bt=a(561),Et=a.n(bt),yt=Object(O.a)(function(e){return r.a.createElement(ot.a,Object.assign({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))})(function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,fontFamily:"GT Walsheim Pro",fontWeight:"bold",marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(st.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}});function xt(e){var t=r.a.useState(null),a=Object(m.a)(t,2),n=a[0],i=a[1],l=Boolean(n),o=Object(d.o)(),s=function(){i(null)};return r.a.createElement(u.a,{sx:{maxWidth:250,ml:1,display:"flex",flexDirection:"row",gap:1}},r.a.createElement(P.a,{style:Object(I.a)({},be),variant:"contained",onClick:function(){s(),o("/dashboard")}},"Dashboard"),r.a.createElement(P.a,{id:"demo-customized-button","aria-controls":l?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,variant:"contained",disableElevation:!0,style:{background:"#211b36"},onClick:function(e){i(e.currentTarget)},startIcon:r.a.createElement(vt.a,null),endIcon:r.a.createElement(Et.a,null)}),r.a.createElement(yt,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:n,open:l,onClose:s},r.a.createElement(ct.a,{onClick:function(){s(),o("/profile")},disableRipple:!0},r.a.createElement(dt.a,null),"Profile"),r.a.createElement(ct.a,{onClick:function(){s(),o("/account_settings")},disableRipple:!0},r.a.createElement(ht.a,null),"Settings"),r.a.createElement(L.a,{sx:{my:.5}}),r.a.createElement(ct.a,{onClick:function(){s(),e.handleLogout()},disableRipple:!0},r.a.createElement(ft.a,null),"Logout")))}var wt=function(e){function t(e){var a;Object(b.a)(this,t);(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).props.cookies;return a.state={isLoggedIn:!1,username:""},a.handleRegister=a.handleRegister(Object(_.a)(Object(_.a)(a))),a.handleLoginButton=a.handleLoginButton.bind(Object(_.a)(Object(_.a)(a))),a.handleLogoutButton=a.handleLogoutButton.bind(Object(_.a)(Object(_.a)(a))),a.updateAppBar=a.updateAppBar.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"updateAppBar",value:function(){var e=this.props.cookies;e.get("token")&&this.setState({isLoggedIn:!0});var t={method:"GET",url:"/api/account/profile",headers:{Authorization:"Bearer ".concat(e.get("token"))}};Z.request(t).then(function(e){}).catch(function(t){401===t.response.status&&e.remove("token")})}},{key:"componentDidMount",value:function(){this.updateAppBar()}},{key:"handleLoginButton",value:function(){this.updateAppBar(),window.location.reload()}},{key:"handleLogoutButton",value:function(){var e=this.props.cookies;this.setState({isLoggedIn:!1}),e.remove("token",{path:"/"}),this.updateAppBar(),window.location.reload()}},{key:"handleRegister",value:function(){}},{key:"render",value:function(){return r.a.createElement(Ye.a,{position:"sticky",elevation:0,sx:{display:"flex",height:45,justifyContent:"center"},style:{background:"#06001e"}},r.a.createElement(Ke.a,null,r.a.createElement(f.a,{variant:"h6",component:"div",fontSize:15,sx:{flexGrow:1}},r.a.createElement(g.a,{to:"/",underline:"none",color:"inherit"},r.a.createElement("img",{alt:"logo",loading:"lazy",src:"https://firebasestorage.googleapis.com/v0/b/sokafans-client.appspot.com/o/Screenshot%20from%202022-08-15%2010-36-39.png?alt=media",style:{maxHeight:27,maxWidth:100,borderRadius:5,alignSelf:"center",justifySelf:"center",marginTop:7}}))),this.state.isLoggedIn?r.a.createElement(u.a,{sx:{m:0,p:0,gap:1,display:"flex",flexDirection:"row"}},r.a.createElement(xt,{label:this.state.username,handleLogout:this.handleLogoutButton})):r.a.createElement(u.a,{sx:{m:0,p:0,gap:1,display:"flex",flexDirection:"row"}},r.a.createElement(lt,{sx:{marginLeft:1,marginRight:0,height:30},handleLogin:this.handleLoginButton}))))}}]),t}(r.a.Component);var jt=Object(J.a)(function(e){var t=Object(d.o)();return r.a.createElement(wt,Object.assign({},e,{navigate:t}))}),Ot=a(240),kt=a(42),Ct=a(96),Tt=a(565),St=a.n(Tt),Pt=a(566),Lt=a.n(Pt),Wt=a(567),Dt=a.n(Wt),_t=r.a.forwardRef(function(e,t){var a=e.href,n=Object(Ot.a)(e,["href"]);return r.a.createElement(kt.b,Object.assign({"data-testid":"custom-link",ref:t,to:a},n))}),It=Object(Ct.b)({typography:{fontFamily:"GT Walsheim Pro"},components:{MuiCssBaseline:{styleOverrides:"\n      @font-face {\n          font-family: 'GT Walsheim Pro';\n          src: url('GTWalsheimPro-Regular.eot');\n          src: local('GT Walsheim Pro Regular'), local('GTWalsheimPro-Regular'),\n              url('".concat(St.a,"') format('truetype');\n          font-weight: normal;\n          font-style: normal;\n      }\n      \n      @font-face {\n          font-family: 'GT Walsheim Pro';\n          src: url('GTWalsheimPro-Bold.eot');\n          src: local('GT Walsheim Pro Bold'), local('GTWalsheimPro-Bold'),\n              url('").concat(Lt.a,"') format('truetype');\n          font-weight: bold;\n          font-style: normal;\n      }\n      \n      @font-face {\n        font-family: 'GT Walsheim Pro';\n        src: url('GTWalsheimPro-Medium.eot');\n        src: local('GT Walsheim Pro Medium'), local('GTWalsheimPro-Medium'),\n            url('").concat(Dt.a,"') format('truetype');\n        font-weight: 500;\n        font-style: normal;\n      }\n      ")},MuiLink:{defaultProps:{component:_t}},MuiButtonBase:{defaultProps:{LinkComponent:_t}},MuiButton:{defaultProps:{size:"small"}}}});function Nt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{theme:It},r.a.createElement(c.b,null),r.a.createElement("div",{class:"announcement"},r.a.createElement("p",null,"If you don't receive an sms with your tip, find it here!\xa0\xa0\xa0|\xa0\xa0\xa0",r.a.createElement("a",{href:"find_tip",target:"_blank"},"Click "))),r.a.createElement(u.a,{sx:{p:0,m:0,position:"relative",w:1,display:"flex",flexDirection:"column"}},r.a.createElement(jt,null),r.a.createElement(u.a,{sx:{p:0,m:0}},r.a.createElement(d.b,null)),r.a.createElement(Xe,null))))}function zt(){var e=r.a.useState(!1),t=Object(m.a)(e,2),a=t[0],n=t[1];return r.a.createElement(u.a,{sx:{p:0,m:0,height:"inherit",display:"flex",flexDirection:"column",alignItems:"center"},style:{borderRadius:0}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,style:{borderRadius:0},sx:{p:0,m:0,width:"100%",height:"100%",borderRadius:0,backgroundImage:"url(https://betrating.ru/wp-content/themes/betrating-v3/img/sport/soccer.webp)",backgroundSize:"cover",backgroundRepeat:"no-repeat"}},r.a.createElement(u.a,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",px:2,pt:2,pb:0},style:{color:"whitesmoke",backgroundColor:"rgb(6, 22, 61, 0.7)"}},r.a.createElement(f.a,{sx:{pl:1},color:"whitesmoke",variant:"h3",component:"div",gutterBottom:!0,fontWeight:500},"Soka Fans"),r.a.createElement(r.a.Fragment,null,["Home of the best tipsters.","Thousands of tipsters with proven track record.","Daily betting tips on your favorite games.","Make money online selling betting tips. Register to get started.","Share your subscription link and get punters to buy your tip."].map(function(e){return r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(he.a,null),r.a.createElement(f.a,{variant:"subtitle2"},e))})),r.a.createElement(u.a,{sx:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},r.a.createElement(Je.a,{open:a,onClose:function(){return n(!1)},"aria-labelledby":"modal-modal-register-title"},r.a.createElement(Oe,{hideLogin:!0})))))))}var Mt=a(12),At=a(568),Ft=a.n(At);function Gt(e){var t=e.data,a=t.time,n=t.teamA,i=t.teamB,l=t.league,o=t.tips,s=t.game_state,c=t.home_goals,d=t.away_goals,m=e.navigate;return r.a.createElement(u.a,{sx:{width:"30%","@media screen and (max-width: 600px)":{width:"100%"},maxHeight:120,minWidth:307}},r.a.createElement(S.a,{sx:{width:"100%"}},r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},r.a.createElement(u.a,{sx:{backgroundColor:"#f6003b",px:2}},r.a.createElement(f.a,{variant:"subtitle2",component:"div",color:"white"},o," Tip",1!==o?"s":"")),r.a.createElement(u.a,{sx:{px:1,m:"0",backgroundColor:"#06001E"}},r.a.createElement(f.a,{variant:"subtitle2",color:"Live"===a?"#FFD565":"white",alignSelf:"center",css:{animation:"1.5s linear infinite","@keyframes animate":{"0%":{opacity:.1},"50%":{opacity:.7},"100%":{opacity:0}}}},"Live"===a?"Live '".concat(s," (").concat(c,":").concat(d,")"):a))),r.a.createElement(u.a,{sx:{m:0,p:1,display:"flex",flexDirection:"row",justifyContent:"center",gap:1,flexWrap:"wrap"}},r.a.createElement(f.a,{variant:"subtitle2",style:{textTransform:"uppercase"}},n),r.a.createElement(f.a,{variant:"caption"},"vs"),r.a.createElement(f.a,{variant:"subtitle2",style:{textTransform:"uppercase"}},i)),r.a.createElement(u.a,{sx:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"button",display:"block",gutterBottom:!0},l)),r.a.createElement(u.a,{sx:{margin:"0 auto"}},r.a.createElement(P.a,{onClick:function(){return m("/active_tips?tips=1&team_a=".concat(n,"&team_b=").concat(i))},variant:"outlined",sx:{borderRadius:0}},"View Tips")))))}var Rt=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={matches:[],phoneSize:!1},a.handleLoadUpcomingMatches=a.handleLoadUpcomingMatches.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleLoadUpcomingMatches",value:function(){var e=this,t=function(e){var t,a=e.data,n=new Date(a.game_date),r=(new Date).getDay()===n.getDay()?"Today":le[n.getDay()],i="".concat(n.getHours(),":").concat((t=n.getMinutes())<=9?"0".concat(t):"".concat(t)),l="".concat(r," ").concat(i),o=a.home_goals,s=a.away_goals;return null!==o&&null!==s&&(l="Live"),{time:l,teamA:a.home_team,teamB:a.away_team,league:a.league,state:e.state,tips:e.tips,home_goals:a.home_goals,away_goals:a.away_goals,game_state:a.game_status_time}};Z.request({method:"GET",url:"/api/home/top-games"}).then(function(a){var n=a.data.games;e.setState({matches:[]}),n.map(function(a){e.setState(function(e){return{matches:[].concat(Object(Mt.a)(e.matches),[t(a)])}})})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){var e=this;this.handleLoadUpcomingMatches(),this.interval=setInterval(function(){return e.handleLoadUpcomingMatches()},3e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){for(var e=[],t=0;this.state.matches&&t<this.state.matches.length;t++)e.push(r.a.createElement(Gt,{navigate:this.props.navigate,data:this.state.matches[t]}));return r.a.createElement(u.a,{sx:{p:0,m:1}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",borderRadius:1}},r.a.createElement(W,{title:"Upcoming Top Games",disableDivider:!0})),this.state.phoneSize?r.a.createElement(Ft.a,null,e):r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",gap:1,justifyContent:"left",flexWrap:"wrap"}},e)))}}]),t}(r.a.Component);var qt=Object(J.a)(function(e){var t=Object(d.o)();return r.a.createElement(Rt,Object.assign({},e,{navigate:t}))}),Bt=a(544),Ut=a(535);function Vt(e){var t=e.children,a=e.value,n=e.index,i=Object(Ot.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&r.a.createElement(u.a,{sx:{py:3}},t))}function Ht(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Xt(e){var t=e.activeTips,a=e.activeTopTips,n=r.a.useState(0),i=Object(m.a)(n,2),l=i[0],o=i[1];return r.a.createElement(u.a,{sx:{p:0,m:1}},r.a.createElement(Ie,null,r.a.createElement(u.a,{sx:{width:"100%"}},r.a.createElement(u.a,{sx:{borderBottom:1,borderColor:"divider"}},r.a.createElement(Bt.a,{value:l,onChange:function(e,t){o(t)},"aria-label":"basic tabs example"},r.a.createElement(Ut.a,Object.assign({label:"Popular"},Ht(0))),r.a.createElement(Ut.a,Object.assign({label:"Latest"},Ht(1))))),r.a.createElement(Vt,{value:l,index:0},r.a.createElement(V,{home:!0,slips:a,top:!0})),r.a.createElement(Vt,{value:l,index:1},r.a.createElement(V,{home:!0,slips:t})))))}function Yt(e){var t=e.children,a=e.value,n=e.index,i=Object(Ot.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&r.a.createElement(u.a,{sx:{py:3}},t))}function Kt(e){e.weeklyTopTipsters;var t,a=e.topTipsters,n=r.a.useState(0),i=Object(m.a)(n,2),l=i[0],o=i[1];return r.a.createElement(u.a,{sx:{p:0,m:1}},r.a.createElement(Ie,null,r.a.createElement(u.a,{sx:{width:"100%"}},r.a.createElement(u.a,{sx:{borderBottom:1,borderColor:"divider"}},r.a.createElement(Bt.a,{value:l,onChange:function(e,t){o(t)},"aria-label":"basic tabs example"},r.a.createElement(Ut.a,Object.assign({label:"Rating"},{id:"simple-tab-".concat(t=0),"aria-controls":"simple-tabpanel-".concat(t)})))),r.a.createElement(Yt,{value:l,index:0},r.a.createElement(Me,{home:!0,tipsters:a})))))}var Jt=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={activeTips:null,activeTopTips:null,markets:null,finishedSlips:null,tipsters:[]},a.handleLoadActiveTips=a.handleLoadActiveTips.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadFinishedTips=a.handleLoadFinishedTips.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadMarkets=a.handleLoadMarkets.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadTopProfiles=a.handleLoadTopProfiles.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadActiveTopTips=a.handleLoadActiveTopTips.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleLoadTopProfiles",value:function(){var e=this;Z.request({method:"GET",url:"/v2/api/tipster/data/"}).then(function(t){var a=t.data.results;e.setState({tipsters:a})}).catch(function(e){console.error(e)});Z.request({method:"GET",url:"/v2/api/tipster/data/?weekly=1"}).then(function(t){var a=t.data.results;e.setState({weekTipsters:a})}).catch(function(e){console.error(e)})}},{key:"handleLoadActiveTips",value:function(){var e=this;Z.request({method:"GET",url:"/v2/api/slip/data/?p=1"}).then(function(t){var a=t.data;e.setState({activeTips:a.results})}).catch(function(e){e&&console.error(e.response.data)})}},{key:"handleLoadActiveTopTips",value:function(){var e=this;Z.request({method:"GET",url:"/v2/api/slip/data/?top=1&p=1"}).then(function(t){var a=t.data;e.setState({activeTopTips:a.results})}).catch(function(e){e&&console.error(e.response.data)})}},{key:"handleLoadFinishedTips",value:function(){var e=this;Z.request({method:"GET",url:"/api/home/finished"}).then(function(t){var a=t.data.slips;a.sort(function(e,t){return e.slip.date_created>t.slip.date_created?-1:e.slip.date_created<t.slip.date_created?1:0}),e.setState({finishedSlips:a})}).catch(function(e){e&&console.log("Error",e.response.data)})}},{key:"handleLoadMarkets",value:function(){var e=this;Z.request({method:"GET",url:"/api/slip/markets"}).then(function(t){var a=t.data.markets;e.setState({markets:a})}).catch(function(e){e&&console.log(e.response)})}},{key:"componentDidMount",value:function(){this.handleLoadActiveTips(),this.handleLoadFinishedTips(),this.handleLoadMarkets(),this.handleLoadTopProfiles(),this.handleLoadActiveTopTips()}},{key:"render",value:function(){var e=this.state,t=e.activeTopTips,a=e.activeTips;return n.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"column"},style:{backgroundColor:"#dedede"}},n.createElement(oe,{title:"SokaFans| Home"}),n.createElement(zt,null),n.createElement(qt,null),n.createElement(Xt,{activeTopTips:t,activeTips:a}),n.createElement(Kt,{weeklyTopTipsters:this.state.weekTipsters,topTipsters:this.state.tipsters}),n.createElement(K,{slips:this.state.finishedSlips,markets:this.state.markets}))}}]),t}(n.Component),$t=a(368),Zt=a(569),Qt=a.n(Zt);function ea(e){var t,a=e.option;return r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",minWidth:"100%",h:1}},r.a.createElement(oe,{title:"SokaFans| Add Tips"}),r.a.createElement(z.a,{size:"small",style:{fontFamily:"GT Walsheim Pro",fontWeight:500},label:a.league,sx:{p:0,m:0}}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row"}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",p:1,justifyContent:"center"}},r.a.createElement(f.a,{fontSize:"small"},ie[parseInt(a.date.getMonth())+1]),r.a.createElement(f.a,{fontWeight:500,fontSize:"small"},"".concat(a.date.getDate()," ").concat(1===(t=a.date.getDate())?"ST":2===t?"ND":3===t?"RD":"TH"))),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",p:1,justifyContent:"center"}},r.a.createElement(f.a,{fontSize:"small"},a.teamA),r.a.createElement(f.a,{fontSize:"small"},a.teamB))))}var ta=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={navigator:a.props.navigate,searchValue:null,tips:[],tipId:null,searchItems:[],selectedGame:null,selectedMarket:null,marketTypes:[],error:null,alertType:"error",searching:null,amount:50,amountError:"",currentOdds:{},viewCorrectScore:!1},a.handleMarketChange=a.handleMarketChange.bind(Object(_.a)(Object(_.a)(a))),a.handleOnSelect=a.handleOnSelect.bind(Object(_.a)(Object(_.a)(a))),a.handleItemDelete=a.handleItemDelete.bind(Object(_.a)(Object(_.a)(a))),a.handleOnListClear=a.handleOnListClear.bind(Object(_.a)(Object(_.a)(a))),a.handleOnListPublish=a.handleOnListPublish.bind(Object(_.a)(Object(_.a)(a))),a.handleOnChangeKey=a.handleOnChangeKey.bind(Object(_.a)(Object(_.a)(a))),a.handleChangeAmount=a.handleChangeAmount.bind(Object(_.a)(Object(_.a)(a))),a.getOdd=a.getOdd.bind(Object(_.a)(Object(_.a)(a))),a.getOddValue=a.getOddValue.bind(Object(_.a)(Object(_.a)(a))),a.handleViewCorrectScore=a.handleViewCorrectScore.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.handleLoadMarkets()}},{key:"handleChangeAmount",value:function(e){var t,a=e.target.value;""!==a?"string"!=typeof(t=a)||isNaN(t)||isNaN(parseFloat(t))?this.setState({amountError:"Numbers only"}):a&&a>1e3?this.setState({amountError:"Max Amount: 1000"}):this.setState({amount:a,amountError:""}):this.setState({amount:"",amountError:"Can't be empty"})}},{key:"handleOnChangeKey",value:function(e){var t=this,a=e.target.value;if(this.setState({searchValue:a}),console.log(a),a){console.log("Searching"),this.setState({searching:!0});var n={method:"POST",url:"/api/manage/search-games",data:{pattern:a}};Z.request(n).then(function(e){var a,n,r,i,l,o=e.data.games,s=[];console.log(o.length);for(var c=0;c<Math.min(20,o.length);c++){var u=o[c],d=(a=u.id,n=u.home_team,r=u.away_team,i=u.game_date,l=u.league,{id:parseInt(a),teamA:n,teamB:r,date:new Date(i),league:l});s.push(d)}console.log(s),t.setState({searchItems:s})}).catch(function(e){console.error(e)}).finally(function(){t.setState({searching:!0})})}}},{key:"handleLoadMarkets",value:function(){var e=this;Z.request({method:"GET",url:"/api/slip/markets"}).then(function(t){var a=t.data.markets;e.setState({marketTypes:a})}).catch(function(e){e&&console.log(e.response)})}},{key:"handleMarketChange",value:function(e){var t=this,a=e.target.value;this.state.error&&this.setState({error:null,alertType:"error"});var n=function(e){for(var a=0;a<t.state.marketTypes.length;a++){var n=t.state.marketTypes[a];if(n.id===e)return n.value}return"unknown"};if(this.state.selectedGame){if(this.state.tips.length>=5)return void this.setState({error:"Maximum number of 5 games reached"});if(this.state.tips.filter(function(e){return e.game.id===t.state.selectedGame.id}).length>0)return void this.setState({error:"Game already in slip"});this.setState(function(e){return{tips:[].concat(Object(Mt.a)(e.tips),[{game:t.state.selectedGame,market:parseInt(a),odds:t.getOddValue(n(parseInt(a)))}]),selectedGame:null}})}}},{key:"handleOnSelect",value:function(e,t){var a=this;if(t){this.setState({selectedGame:t});var n={method:"GET",url:"/api/fixtures/search/fixture/odd/".concat(t.id)};Z.request(n).then(function(e){var t=e.data;console.log(t),a.setState({currentOdds:t.result})}).catch(function(e){console.error(e)})}}},{key:"handleItemDelete",value:function(e){this.setState(function(t){return{tips:t.tips.filter(function(t){return t.game.id!==e})}})}},{key:"handleOnListClear",value:function(){this.setState({tips:[],error:null,alertType:"error"})}},{key:"handleOnListPublish",value:function(){for(var e=this,t=[],a=0;a<this.state.tips.length;a++){var n=this.state.tips[a];t.push({game:n.game.id,market:n.market})}if(t.length<3)this.setState({error:"Publish at least '3' tip"});else if(this.state.amount>1e3||this.state.amount<50)this.setState({error:"Price range Ksh. [50-1000]"});else{var r=this.props.cookies,i={method:"POST",url:"/api/slip/create",headers:{Authorization:"Bearer ".concat(r.get("token")),"Content-Type":"application/json"},data:{published:!0,tips:t,tip_id:this.state.tipId,amount:this.state.amount}},l=function(t){for(var a=0;a<e.state.tips.length;a++){var n=e.state.tips[a];if(n.game.id===parseInt(t))return"".concat(n.game.teamA," vs ").concat(n.game.teamB)}return null};Z.request(i).then(function(t){t&&e.handleOnListClear(),e.setState({error:"Successfully Published Tips",alertType:"success"})}).catch(function(t){var a=t.response.data;a.game&&e.setState({error:"".concat(a.error,". (").concat(l(a.game),")")}),a.error?e.setState({error:a.error}):e.setState({error:"Error Saving tips"})})}}},{key:"getOdd",value:function(e){return"[ ".concat(this.getOddValue(e)," ]")}},{key:"getOddValue",value:function(e){var t=this.state.currentOdds,a=-1,n=e.toUpperCase();"HOME WIN"===n&&(a=t.home_win),"AWAY WIN"===n&&(a=t.away_win),"DRAW"===n&&(a=t.game_draw),"OVER 2.5"===n&&(a=t.over_2_5),"UNDER 2.5"===n&&(a=t.under_2_5),"OVER 1.5"===n&&(a=t.over_1_5),"UNDER 1.5"===n&&(a=t.under_1_5),"NG"===n&&(a=t.both_ng),"GG"===n&&(a=t.both_gg),"1X"===n&&(a=t.double_1x),"12"===n&&(a=t.double_12),"X2"===n&&(a=t.double_x2),"1/1"===n&&(a=t.hft_11),"1/X"===n&&(a=t.hft_1x),"1/2"===n&&(a=t.hft_12),"X/1"===n&&(a=t.hft_x1),"X/X"===n&&(a=t.hft_xx),"X/2"===n&&(a=t.hft_x2),"2/1"===n&&(a=t.hft_21),"2/X"===n&&(a=t.hft_2x),"2/2"===n&&(a=t.hft_22);for(var r=0;-1===a&&r<=6;r++)for(var i=0;i<=6-r;i++)if(n==="".concat(r,"-").concat(i)){var l="cs_".concat(r,"_").concat(i);a=t[l],console.log("".concat(l,"-").concat(a));break}return a||1}},{key:"handleViewCorrectScore",value:function(){this.setState({viewCorrectScore:!this.state.viewCorrectScore})}},{key:"render",value:function(){var e=this,t=this.state,a=t.tips,n=t.viewCorrectScore,i=t.marketTypes,l=[],o=1,s=function(t){for(var a=0;a<e.state.marketTypes.length;a++){var n=e.state.marketTypes[a];if(n.id===t)return n.value}return"unknown"};return a.map(function(t){return o*=t.odds,l.push(r.a.createElement(M.a,{divider:!0,disablePadding:!0,key:t.game.id,secondaryAction:r.a.createElement(Ze.a,{edge:"end","aria-label":"delete",onClick:function(){return a=t.game.id,void e.handleItemDelete(a);var a}},r.a.createElement(Qt.a,null))},r.a.createElement(A.a,{primary:"".concat(t.game.teamA," vs ").concat(t.game.teamB),secondary:s(parseInt(t.market))+" "+"[ ".concat(t.odds," ]")}))),null}),o=parseInt((100*o).toString())/100,r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(ne,null),r.a.createElement(u.a,{sx:{mx:1}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:2},title:"Add Tips",description:"Find teams to bet on"}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",m:0,p:0}},r.a.createElement($t.b,{value:this.state.selectedGame,onChange:this.handleOnSelect,options:this.state.searchItems,sx:{p:0,m:1,w:1},loadingText:"Searching",noOptionsText:"Can't find games. Retype or check your spelling",size:"small",style:{fontFamily:"GT Walsheim Pro",fontSize:"smaller"},filterOptions:function(e){return e},getOptionLabel:function(e){return"".concat(e.teamA," vs ").concat(e.teamB)},renderOption:function(e,t){return r.a.createElement(u.a,Object.assign({component:"li"},e,{key:t.key}),r.a.createElement(ea,{option:t}))},renderInput:function(t){return r.a.createElement(pe.a,Object.assign({},t,{label:"Find Game",onChange:e.handleOnChangeKey,value:e.state.searchValue,inputProps:Object(I.a)({},t.inputProps,{"aria-autocomplete":"new-password"})}))}}),r.a.createElement(u.a,{sx:{mx:1,px:1}},r.a.createElement(f.a,{variant:"caption"},"Type the name of the team to search. If it's stuck in loading try typing again."))),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:12,sm:12,md:12,lg:6},r.a.createElement(S.a,{variant:"outlined",sx:{p:1,m:1,minHeight:400},square:!0},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"Markets"),r.a.createElement(L.a,null),r.a.createElement(u.a,{sx:{mt:1}},r.a.createElement(u.a,{sx:{pb:1,m:0}},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"1X2 (Winning Team)"),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1,maxWidth:1}},this.state.marketTypes.map(function(t){return"1X2"!==t.type?null:r.a.createElement(P.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,sx:{width:1,flexWidth:1,maxWidth:"calc(33% - 4px)"},value:t.id,onClick:e.handleMarketChange},t.value+" "+e.getOdd(t.value))}))),r.a.createElement(L.a,null),r.a.createElement(u.a,{sx:{mt:1,pb:1,m:0}},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"Over Under (Total Goals)"),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1,maxWidth:1}},this.state.marketTypes.map(function(t){return"OU"!==t.type?null:r.a.createElement(P.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,sx:{width:1,flexWidth:1,maxWidth:"calc(50% - 4px)"},value:t.id,onClick:e.handleMarketChange},t.value+" "+e.getOdd(t.value))}))),r.a.createElement(L.a,null),r.a.createElement(u.a,{sx:{mt:1,pb:1,m:0}},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"Both Teams (Score)"),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1,maxWidth:1}},this.state.marketTypes.map(function(t){return"BT"!==t.type?null:r.a.createElement(P.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,sx:{width:1,flexWidth:1,maxWidth:"calc(50% - 4px)"},value:t.id,onClick:e.handleMarketChange},t.value+" "+e.getOdd(t.value))}))),r.a.createElement(L.a,null),r.a.createElement(u.a,{sx:{mt:1,pb:1,m:0}},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"Double Chance"),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1,maxWidth:1}},this.state.marketTypes.map(function(t){return"DC"!==t.type?null:r.a.createElement(P.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,sx:{width:1,flexWidth:1,maxWidth:"calc(33% - 4px)"},value:t.id,onClick:e.handleMarketChange},t.value+" "+e.getOdd(t.value))}))),r.a.createElement(L.a,null),r.a.createElement(u.a,{sx:{mt:1,pb:1,m:0}},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"Halftime / Fulltime"),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1,maxWidth:1}},this.state.marketTypes.map(function(t){return"HFT"!==t.type?null:r.a.createElement(P.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,sx:{width:1,flexWidth:1,maxWidth:"calc(33% - 4px)"},value:t.id,onClick:e.handleMarketChange},t.value+" "+e.getOdd(t.value))}))),r.a.createElement(L.a,null),r.a.createElement(u.a,{sx:{mt:1,pb:1,m:0}},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"Correct Score"),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1,maxWidth:1}},n&&i.map(function(t){return"CS"===t.type&&r.a.createElement(P.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0,sx:{width:1,flexWidth:1,maxWidth:"calc(33% - 4px)"},value:t.id,onClick:e.handleMarketChange},t.value+" "+e.getOdd(t.value))})),r.a.createElement(P.a,{disableElevation:!0,variant:"text",onClick:this.handleViewCorrectScore},n?"Close":"View"))))),r.a.createElement(C.a,{item:!0,xs:12,sm:12,md:12,lg:6},r.a.createElement(S.a,{variant:"outlined",sx:{p:1,m:1,minHeight:400},square:!0},r.a.createElement(u.a,{display:{display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{display:{display:"flex",flexDirection:"row",gap:1}},r.a.createElement(u.a,{display:{p:2,m:1,gap:1,display:"flex",flexDirection:"row"}},r.a.createElement(f.a,{variant:"h6",fontWeight:500,fontSize:"small"},"Tips")),r.a.createElement(u.a,{display:{p:2,m:1,gap:1,display:"flex",flexDirection:"row"}})),r.a.createElement(L.a,null),r.a.createElement(ke.a,{sx:{m:1,py:0},severity:this.state.alertType,style:{display:this.state.error?"inherit":"none"}},this.state.error),r.a.createElement(u.a,{sx:{minHeight:310}},r.a.createElement(R.a,null,l)),r.a.createElement(L.a,null),r.a.createElement(u.a,{sx:{px:0,display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{sx:{my:1,mx:1,display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(f.a,{variant:"caption",component:"div",sx:{}},"Total Odds"),r.a.createElement(f.a,{variant:"caption",component:"div",sx:{fontWeight:"bold"}},o)),r.a.createElement(se.a,{fullWidth:!0,sx:{my:1}},r.a.createElement(ce.a,{htmlFor:"outlined-adornment-amount"},"Price"),r.a.createElement(ue.a,{size:"small",id:"outlined-adornment-amount",value:this.state.amount,onChange:this.handleChangeAmount,startAdornment:r.a.createElement(de.a,{position:"start"},"Ksh"),label:"Price",type:"number",inputSizeSmall:!0,fullWidth:!0}),r.a.createElement(me.a,{error:""!==this.state.amountError},this.state.amountError)),r.a.createElement(f.a,{variant:"caption",component:"div",sx:{fontStyle:"italic",fontWeight:"bold"}},"Base Price is"," ",r.a.createElement("strong",null,"Ksh. 50"))),r.a.createElement(S.a,{variant:"outlined",sx:{p:1,m:0}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",gap:1}},r.a.createElement(P.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:this.handleOnListPublish},"Publish"),r.a.createElement(P.a,{variant:"contained",color:"error",disableElevation:!0,onClick:this.handleOnListClear},"Clear"))))))))))))}}]),t}(r.a.Component);var aa=Object(J.a)(function(e){var t=Object(d.o)();return r.a.createElement(ta,Object.assign({},e,{navigate:t}))}),na=[{value:"KE",label:"Kenya"},{value:"NG",label:"Nigeria"},{value:"TZ",label:"Tanzania"}],ra={fontWeight:"500",marginBottom:5},ia={fontWeight:"500"},la={maxWidth:347,minWidth:300};function oa(e){var t=e.profile?e.profile.profile_image_url:null,a=e.user?e.user.first_name:"",n=e.user?e.user.username:"",i=e.profile?e.profile.country:"",l=e.profile?e.profile.city:"",o=Object($e.a)(["token"]),s=Object(m.a)(o,1)[0],c=r.a.useState("KE"),d=Object(m.a)(c,2),h=d[0],p=d[1],g=r.a.useState("optional"),v=Object(m.a)(g,2),b=v[0],E=v[1],y=r.a.useState(a),x=Object(m.a)(y,2),w=x[0],j=x[1],O=r.a.useState(l),k=Object(m.a)(O,2),C=k[0],T=k[1],P=r.a.useState(!0),L=Object(m.a)(P,2),W=L[0],D=L[1],_=r.a.useState(!1),z=Object(m.a)(_,2),M=z[0],A=z[1];r.a.useEffect(function(){D(e.loading),e.profile&&!w&&(T(l),j(a))});var F=[];return na.map(function(e){return F.push(r.a.createElement(ct.a,{style:Object(I.a)({},ra),key:e.value,value:e.value},e.label))}),r.a.createElement(u.a,{sx:{p:1,m:1}},r.a.createElement(f.a,{variant:"h6",color:"black",fontWeight:500},"Personal Info"),r.a.createElement(u.a,{sx:{width:1,paddingTop:1,display:"flex",flexDirection:"column",gap:2}},r.a.createElement(u.a,{sx:{width:1,display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2}},r.a.createElement(S.a,{variant:"outlined"},r.a.createElement(N.a,{src:t,sx:{m:"1px",width:76,height:76},variant:"rounded"})),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"}},r.a.createElement(ye.a,{loading:M,variant:"outlined",component:"label",startIcon:r.a.createElement(ge.a,null)},"Upload Profile",r.a.createElement("input",{type:"file",hidden:!0,accept:"image/*",onChange:function(e){if(e.target.files){A(!0);var t=e.target.files[0],a=s.token,n=t.name;E(n);var r=new FormData;r.append("profile_image",t);var i={method:"POST",url:"/api/account/user/avatar",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(a)},data:r};Z.request(i).then(function(e){window.location.reload()}).catch(function(e){console.log(e.data)}).finally(function(){A(!1)})}}})),r.a.createElement(f.a,{component:"label",fontSize:10,variant:"subtitle2"},b))),r.a.createElement(u.a,{sx:{width:1,display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2}},r.a.createElement(pe.a,{label:"Name",variant:"outlined",placeholder:"Enter Name",sx:Object(I.a)({},la),value:w,onChange:function(e){j(e.target.value)},size:"small",InputLabelProps:{style:Object(I.a)({},ia)},inputProps:{style:Object(I.a)({},ra)}}),r.a.createElement(pe.a,{label:"Username",variant:"outlined",required:!0,placeholder:"Enter username",value:n,sx:Object(I.a)({},la),size:"small",InputLabelProps:{style:Object(I.a)({},ia)},inputProps:{style:Object(I.a)({},ra),readOnly:!0}})),r.a.createElement(u.a,{sx:{width:1,display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2}},r.a.createElement(pe.a,{id:"outlined-select-currency",select:!0,label:"Country",required:!0,disabled:!0,value:h,defaultValue:i,onChange:function(e){p(e.target.value)},helperText:"Please select your country",size:"small",sx:Object(I.a)({},la),InputLabelProps:{style:Object(I.a)({},ia)},inputProps:{style:Object(I.a)({},ra),readOnly:!0}},F),r.a.createElement(pe.a,{label:"City",variant:"outlined",value:C,onChange:function(e){T(e.target.value)},placeholder:"Enter City",sx:Object(I.a)({},la),size:"small",InputLabelProps:{style:Object(I.a)({},ia)},inputProps:{style:Object(I.a)({},ra)}})),r.a.createElement(u.a,{sx:{width:1,display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2}},r.a.createElement(ye.a,{loading:W,variant:"contained",sx:{w:1},disableElevation:!0,onClick:function(){D(!0),e.onUpdate({name:w,city:C})}},"Save"))))}function sa(e){var t=e.alertType,a=e.info;return r.a.createElement(ke.a,{sx:{mx:1,py:0},severity:t,style:{display:a?"inherit":"none"}},a)}function ca(){ca=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,a){return e[t]=a}}function c(e,t,a,r){var i=t&&t.prototype instanceof m?t:m,l=Object.create(i.prototype),o=new k(r||[]);return n(l,"_invoke",{value:x(e,a,o)}),l}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var d={};function m(){}function h(){}function p(){}var f={};s(f,i,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==t&&a.call(v,i)&&(f=v);var b=p.prototype=m.prototype=Object.create(f);function E(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var r;n(this,"_invoke",{value:function(n,i){function l(){return new t(function(r,l){!function n(r,i,l,o){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,l,o)},function(e){n("throw",e,l,o)}):t.resolve(d).then(function(e){c.value=e,l(c)},function(e){return n("throw",e,l,o)})}o(s.arg)}(n,i,r,l)})}return r=r?r.then(l,l):l()}})}function x(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return T()}for(a.method=r,a.arg=i;;){var l=a.delegate;if(l){var o=w(l,a);if(o){if(o===d)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function w(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(y.prototype),s(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var l=new y(c(t,a,n,r),i);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},E(b),s(b,o,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return l.type="throw",l.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;O(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:C(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var ua={fontWeight:"500",marginBottom:5},da={fontWeight:"500"};function ma(e){var t=e.profile?e.profile.phone_number:"",a=e.user?e.user.email:"",n=r.a.useState("error"),i=Object(m.a)(n,2),l=i[0],o=i[1],s=r.a.useState(""),c=Object(m.a)(s,2),d=c[0],h=c[1],p=r.a.useState(""),g=Object(m.a)(p,2),v=g[0],b=g[1],E=r.a.useState(""),y=Object(m.a)(E,2),x=y[0],w=y[1],j=r.a.useState(""),O=Object(m.a)(j,2),k=O[0],T=O[1],L=r.a.useState(""),W=Object(m.a)(L,2),_=W[0],N=W[1],z=r.a.useState(""),M=Object(m.a)(z,2),A=M[0],F=M[1],G=r.a.useState(null),R=Object(m.a)(G,2),q=R[0],B=R[1],U=r.a.useState(""),V=Object(m.a)(U,2),H=V[0],X=V[1],Y=r.a.useState(""),K=Object(m.a)(Y,2),J=K[0],$=K[1],Z=r.a.useState(""),Q=Object(m.a)(Z,2),ee=Q[0],te=Q[1],ae=r.a.useState(""),ne=Object(m.a)(ae,2),re=ne[0],ie=ne[1],le=r.a.useState(!0),oe=Object(m.a)(le,2),se=oe[0],ce=oe[1],ue=r.a.useState(!1),de=Object(m.a)(ue,2),me=de[0],he=de[1],fe=r.a.useState(!0),ge=Object(m.a)(fe,2),ve=ge[0],be=ge[1],Ee=r.a.useState(!0),xe=Object(m.a)(Ee,2),we=xe[0],je=xe[1],Oe=function(){T(""),b(""),F(""),$(""),ie(""),B(null)},ke=function(e){return w(e.target.value)},Ce=function(e){return h(e.target.value)},Te=function(e){return N(e.target.value)},Se=function(e){return X(e.target.value)},Pe=function(e){return te(e.target.value)};function Le(){return We.apply(this,arguments)}function We(){return(We=Object(D.a)(ca().mark(function t(){var a;return ca().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Oe(),d){t.next=4;break}return b("Fill this"),t.abrupt("return");case 4:if(x&&!(x.length<8)){t.next=7;break}return T("Password should be 8 characters or more"),t.abrupt("return");case 7:if(_===x){t.next=10;break}return F("Confirm password is not equal"),t.abrupt("return");case 10:return a={old_password:d,new_password:x},t.prev=11,he(!0),t.next=15,e.changePass(a);case 15:ce(!1),o("success"),B("Saved"),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(11),o("error"),B(t.t0.old_password[0]);case 24:he(!1);case 25:case"end":return t.stop()}},t,null,[[11,20]])}))).apply(this,arguments)}var De=function(){if(Oe(),H&&10===H.length)if(/^\d+$/.test(H))try{e.changePhone(H),be(!1)}catch(t){$(t)}else $("Only digits allowed");else $("Phone number should have 10 digits")},_e=function(){if(Oe(),/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(ee))try{e.changeEmail(ee)}catch(t){ie(t)}finally{je(!1)}else ie("Enter valid email")};return r.a.createElement(u.a,{sx:{p:1,m:1,maxWidth:650}},r.a.createElement(f.a,{variant:"h6",color:"black",fontWeight:500},"Account Data"),r.a.createElement(u.a,{sx:{width:1,paddingTop:1,display:"flex",flexDirection:"column",gap:2}},r.a.createElement(C.a,{container:!0,spacing:1,width:"100%"},r.a.createElement(C.a,{item:!0,sm:12,md:8,lg:4},r.a.createElement(f.a,{variant:"subtitle2",fontWeight:500},"Password")),r.a.createElement(C.a,{item:!0,sm:12,md:8,lg:8,sx:{p:0,m:0}},r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"row",gap:1,justifyContent:"space-between",flexWrap:"wrap",width:"100%"}},se?r.a.createElement(f.a,{variant:"subtitle1",color:"darkgrey"},"Password Set"):r.a.createElement(u.a,{sx:{p:0,mr:1,minWidth:"97%"}},r.a.createElement(S.a,{sx:{p:0},variant:"outlined"},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:1,paddingY:1,m:0}},r.a.createElement(nt,{error:v,value:d,onChange:Ce,ariaLabel:"outlined-current-password-profile",label:"Current Password"}),r.a.createElement(nt,{error:k,value:x,onChange:ke,ariaLabel:"outlined-new-password-profile",label:"New Password"}),r.a.createElement(nt,{error:A,value:_,onChange:Te,ariaLabel:"outlined-repeat-password-profile",label:"Confirm Password"}),r.a.createElement(ye.a,{variant:"contained",loading:me,disableElevation:!0,onClick:Le},"Change Password"),r.a.createElement(sa,{alertType:l,info:q})))),r.a.createElement(P.a,{disableElevation:!0,variant:"text",sx:{maxHeight:30},onClick:function(){return ce(!se)}},se?"CHANGE":"CLOSE")))),r.a.createElement(C.a,{container:!0,spacing:1},r.a.createElement(C.a,{item:!0,xs:8,md:4},r.a.createElement(f.a,{variant:"subtitle2",fontWeight:500},"Phone Number")),r.a.createElement(C.a,{item:!0,sm:12,md:8,lg:8,sx:{p:0,m:0}},r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"row",gap:1,justifyContent:"space-between",flexWrap:"wrap",width:"100%"}},ve?r.a.createElement(f.a,{variant:"subtitle1",color:"darkgrey"},t):r.a.createElement(u.a,{sx:{p:0,mr:1,minWidth:"97%"}},r.a.createElement(S.a,{sx:{p:0},variant:"outlined"},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:1,paddingY:1,m:0}},r.a.createElement(pe.a,{label:"Phone Number",variant:"outlined",error:""!==J,helperText:J,value:H,onChange:Se,placeholder:"Enter Phone Number",sx:{width:"100%"},size:"small",InputLabelProps:{style:Object(I.a)({},da)},inputProps:{style:Object(I.a)({},ua)}}),r.a.createElement(ye.a,{variant:"contained",disableElevation:!0,onClick:De},"Change Phone Number")))),r.a.createElement(P.a,{disableElevation:!0,variant:"text",sx:{maxHeight:30},onClick:function(){return be(!ve)}},ve?"CHANGE":"CLOSE")))),r.a.createElement(C.a,{container:!0,spacing:1},r.a.createElement(C.a,{item:!0,xs:8,md:4},r.a.createElement(f.a,{variant:"subtitle2",fontWeight:500},"Email")),r.a.createElement(C.a,{item:!0,sm:12,md:8,lg:8,sx:{p:0,m:0}},r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"row",gap:1,justifyContent:"space-between",flexWrap:"wrap",width:"100%"}},we?r.a.createElement(f.a,{variant:"subtitle1",color:"darkgrey"},a):r.a.createElement(u.a,{sx:{p:0,mr:1,minWidth:"97%"}},r.a.createElement(S.a,{sx:{p:0},variant:"outlined"},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:1,paddingY:1,m:0}},r.a.createElement(pe.a,{label:"Email",variant:"outlined",error:""!==re,helperText:re,value:ee,onChange:Pe,placeholder:"Enter Email",sx:{width:"100%"},size:"small",InputLabelProps:{style:Object(I.a)({},da)},inputProps:{style:Object(I.a)({},ua)}}),r.a.createElement(ye.a,{variant:"contained",disableElevation:!0,onClick:_e},"Change Email")))),r.a.createElement(P.a,{disableElevation:!0,variant:"text",sx:{maxHeight:30},onClick:function(){return je(!we)}},we?"CHANGE":"CLOSE"))))))}function ha(){ha=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,a){return e[t]=a}}function c(e,t,a,r){var i=t&&t.prototype instanceof m?t:m,l=Object.create(i.prototype),o=new k(r||[]);return n(l,"_invoke",{value:x(e,a,o)}),l}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var d={};function m(){}function h(){}function p(){}var f={};s(f,i,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(C([])));v&&v!==t&&a.call(v,i)&&(f=v);var b=p.prototype=m.prototype=Object.create(f);function E(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var r;n(this,"_invoke",{value:function(n,i){function l(){return new t(function(r,l){!function n(r,i,l,o){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,l,o)},function(e){n("throw",e,l,o)}):t.resolve(d).then(function(e){c.value=e,l(c)},function(e){return n("throw",e,l,o)})}o(s.arg)}(n,i,r,l)})}return r=r?r.then(l,l):l()}})}function x(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return T()}for(a.method=r,a.arg=i;;){var l=a.delegate;if(l){var o=w(l,a);if(o){if(o===d)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function w(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(y.prototype),s(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var l=new y(c(t,a,n,r),i);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},E(b),s(b,o,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return l.type="throw",l.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;O(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:C(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var pa=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).handleChangePhone=function(e){console.log("To Change: ".concat(e))},a.handleChangeEmail=function(e){console.log("To Change: ".concat(e))},a.state={user:null,profile:null,loading:!1},a.handleUpdateInformation=a.handleUpdateInformation.bind(Object(_.a)(Object(_.a)(a))),a.handleUpdateAccount=a.handleUpdateAccount.bind(Object(_.a)(Object(_.a)(a))),a.handleChangePassword=a.handleChangePassword.bind(Object(_.a)(Object(_.a)(a))),a.handleChangeEmail=a.handleChangeEmail.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleUpdateInformation",value:function(){var e=this,t=this.props.cookies.get("token");this.setState({loading:!0});var a={method:"GET",url:"/api/account/profile",headers:{Authorization:"Bearer ".concat(t)}};Z.request(a).then(function(t){var a=t.data;e.setState({user:a.user,profile:a.profile,loading:!1})}).catch(function(e){e&&console.log(e)})}},{key:"componentDidMount",value:function(){this.handleUpdateInformation()}},{key:"handleUpdateAccount",value:function(e){var t=this,a=this.props.cookies.get("token");this.setState({loading:!0}),console.log("Updating");var n={method:"POST",url:"/api/account/user/details",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:{name:e.name,city:e.city}};Z.request(n).then(function(){t.handleUpdateInformation()}).catch(function(e){e&&console.log(e.response)})}},{key:"handleChangePassword",value:function(){var e=Object(D.a)(ha().mark(function e(t){var a,n,r,i=this;return ha().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.cookies,n=a.get("token"),r={method:"PUT",url:"/api/account/change-password",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},data:t},e.next=5,Z.request(r).then(function(){i.handleUpdateInformation()}).catch(function(e){console.log(e.response.data)});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(u.a,{sx:{p:1,m:0,gap:1,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(oa,{user:this.state.user,profile:this.state.profile,onUpdate:this.handleUpdateAccount,loading:this.state.loading}))),r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(ma,{user:this.state.user,profile:this.state.profile,changePass:this.handleChangePassword,changePhone:this.handleChangePhone,changeEmail:this.handleChangeEmail}))),r.a.createElement(L.a,null))}}]),t}(r.a.Component);var fa=Object(J.a)(function(e){var t=Object(d.o)(),a=Object(d.m)();return r.a.createElement(pa,Object.assign({},e,{navigate:t,location:a}))}),ga=a(531),va=a(572),ba=a.n(va),Ea=a(792),ya=a(793),xa=a(794),wa=a(795),ja=a(796),Oa=a(797),ka=a(798),Ca=a(799),Ta=a(570),Sa=r.a.forwardRef(function(e,t){return r.a.createElement(ke.a,Object.assign({elevation:6,ref:t,variant:"standard"},e,{sx:{fontSize:"small",fontFamily:"GT Walsheim Pro"}}))});function Pa(e){return r.a.createElement(C.a,{item:!0,xs:6,sm:6,md:4,lg:4,sx:{p:0,m:0}},r.a.createElement(P.a,{color:e.onClick&&!e.ignore?"primary":"success",size:e.onClick&&!e.ignore?"small":"inherit",disableElevation:!0,variant:"outlined",sx:{m:0,p:0,minHeight:e.onClick&&!e.ignore?108:50,width:"100%",maxWidth:"100%",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},onClick:e.onClick},r.a.createElement(f.a,{variant:"button",textAlign:"center"},e.label),e.value?r.a.createElement(f.a,null,e.value):null))}function La(e){var t=e.amount,a=e.cookies,n=r.a.useState(""),i=Object(m.a)(n,2),l=i[0],o=i[1],s=r.a.useState(""),c=Object(m.a)(s,2),d=c[0],h=c[1],p=r.a.useState(!1),g=Object(m.a)(p,2),v=g[0],b=g[1],E=function(e){o(e),b(null!=e)};return r.a.createElement(u.a,{sx:Object(I.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},Ee)},r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:0,mx:1,my:1,borderRadius:1,maxWidth:"100%",minWidth:350,alignSelf:"center",justifySelf:"center"}},r.a.createElement("form",null,r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:3,paddingY:5,m:0}},r.a.createElement(u.a,{sx:{px:0,paddingTop:3,paddingBottom:3,display:"flex",gap:1,flexDirection:"column",alignItems:"center"}},r.a.createElement(f.a,{id:"modal-modal-login-title",variant:"h6",component:"div",fontWeight:500},"Withdraw Request"),r.a.createElement(f.a,{id:"modal-modal-login-title",variant:"p",component:"div"},"The amount value is based on your unpaid recent tip sales")),r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(ce.a,{htmlFor:"outlined-adornment-amount"},"Amount"),r.a.createElement(ue.a,{id:"outlined-adornment-amount",value:t,disabled:!0,startAdornment:r.a.createElement(de.a,{position:"start"},"Ksh"),label:"Amount"})),r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(ce.a,{htmlFor:"outlined-adornment-amount"},"Phone"),r.a.createElement(ue.a,{id:"outlined-adornment-amount",error:void 0!==l||""!==l,helperText:l,value:d,onChange:function(e){h(e.target.value)},startAdornment:r.a.createElement(de.a,{position:"start"},"+254"),label:"Phone"}),r.a.createElement(me.a,{error:!0},l)),r.a.createElement(f.a,{id:"modal-modal-login-title",variant:"caption",component:"div"},"Enter your MPESA number where the deposit will be made"),r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"column",justifyContent:"center",gap:3}},r.a.createElement(ye.a,{variant:"contained",sx:{w:1,minWidth:"100%"},loading:v,disableElevation:!0,onClick:function(){E(null);var t=d;if(null==t||10!==t.length&&9!==t.length)E("Enter a valid phone number");else{var n={method:"POST",url:"/api/finance/withdraw_request",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.get("token"))},data:{phone_number:function(e){return 10===e.length?"254".concat(e.substring(1)):"254".concat(e)}(d)}};Z.request(n).then(function(){e.handleClose()}).catch(function(e){var t=e.response;t.data&&t.data.message?alert(t.data.message):alert(t.data)}).finally(function(){b(!1)})}}},"Withdraw"),r.a.createElement(f.a,{variant:"caption",display:"block",color:"red"},l))))))}var Wa=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={navigator:e.navigator,navigate:e.navigator,username:null,myRating:0,pendingPayments:0,accountBalance:0,totalEarnings:0,todayEarning:0,monthEarnings:0,withdrawDialog:!1,shareUrl:"",copied:!1,openSnack:!1,profile:null},a.handleAddTipsBtn=a.handleAddTipsBtn.bind(Object(_.a)(Object(_.a)(a))),a.handleViewLatestTips=a.handleViewLatestTips.bind(Object(_.a)(Object(_.a)(a))),a.handleEarningsList=a.handleEarningsList.bind(Object(_.a)(Object(_.a)(a))),a.handleViewPublishedTips=a.handleViewPublishedTips.bind(Object(_.a)(Object(_.a)(a))),a.handleOpenWithdrawCash=a.handleOpenWithdrawCash.bind(Object(_.a)(Object(_.a)(a))),a.handleOpenSettings=a.handleOpenSettings.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadData=a.handleLoadData.bind(Object(_.a)(Object(_.a)(a))),a.handleOpenWithdrawCash=a.handleOpenWithdrawCash.bind(Object(_.a)(Object(_.a)(a))),a.handleCloseDialog=a.handleCloseDialog.bind(Object(_.a)(Object(_.a)(a))),a.handleCloseSnack=a.handleCloseSnack.bind(Object(_.a)(Object(_.a)(a))),a.handleWithdrawRequestsList=a.handleWithdrawRequestsList.bind(Object(_.a)(Object(_.a)(a))),a.handleCloseWithdraw=a.handleCloseWithdraw.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.handleLoadData()}},{key:"handleCloseSnack",value:function(){this.setState({openSnack:!1})}},{key:"handleLoadData",value:function(){var e=this,t=this.props.cookies.get("token"),a={method:"GET",url:"/api/finance/pending_amount",headers:{Authorization:"Bearer ".concat(t)}};Z.request(a).then(function(t){var a=t.data,n=function(e){return Math.round(100*e)/100};e.setState({pendingPayments:n(a.pending_amount),accountBalance:n(a.account_balance),totalEarnings:n(a.total_earnings),todayEarnings:n(a.today_earnings),monthEarnings:n(a.month_earnings)})});var n={method:"GET",url:"/api/account/profile",headers:{Authorization:"Bearer ".concat(t)}};Z.request(n).then(function(t){var a=t.data.dash,n=t.data.user.username;console.log(n),e.setState({myRating:a.rating,username:n,shareUrl:"https://sokafans.com/profile/".concat(n),profile:t.data.profile})})}},{key:"handleAddTipsBtn",value:function(){var e=this.state.navigator,t=this.props.cookies.get("token"),a={method:"GET",url:"/api/slip/can-post",headers:{Authorization:"Bearer ".concat(t)}};Z.request(a).then(function(){e("/dashboard/add_tips")}).catch(function(){alert("Can't Post more than 2 tips")})}},{key:"handleViewLatestTips",value:function(){var e=this.state,t=e.navigator,a=e.username;t("finished_tips/".concat(a))}},{key:"handleEarningsList",value:function(){(0,this.state.navigate)("earnings")}},{key:"handleWithdrawRequestsList",value:function(){(0,this.state.navigate)("withdraw")}},{key:"handleViewPublishedTips",value:function(){var e=this.state,t=e.navigate,a=e.username;t("active_tips/".concat(a))}},{key:"handleOpenWithdrawCash",value:function(){this.state.accountBalance<500?alert("Minimum withdrawal amount is Ksh. 500. Account Balance should be at least Ksh. 500"):this.setState({withdrawDialog:!0})}},{key:"handleCloseDialog",value:function(){this.setState({withdrawDialog:!1})}},{key:"handleOpenSettings",value:function(){(0,this.state.navigate)("/account_settings")}},{key:"handleCloseWithdraw",value:function(){this.handleCloseDialog(),this.setState({openStack:!0})}},{key:"render",value:function(){var e=this,t=this.props.cookies,a=this.state,n=a.pendingPayments,i=a.myRating,l=a.accountBalance,o=a.totalEarnings,s=a.todayEarnings,c=a.monthEarnings,d=a.shareUrl,m=a.profile;console.log(m);m&&m.subscribed;return r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"column",gap:0}},r.a.createElement(oe,{title:"SokaFans| Dashboard"}),r.a.createElement(ga.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnack,onClose:this.handleCloseSnack,key:"bottomleft",autoHideDuration:3e3},r.a.createElement(Sa,{onClose:this.handleCloseSnack,severity:"success",sx:{width:"100%"}},"Success")),r.a.createElement(Je.a,{open:this.state.withdrawDialog,onClose:function(t,a){return a||console.log("Not Passed"),void e.handleCloseDialog()}},r.a.createElement(La,{amount:l,handleClose:this.handleCloseWithdraw,cookies:t})),r.a.createElement(ne,null),r.a.createElement(u.a,{sx:{p:1,m:0,gap:1,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:2},title:"Dashboard",description:"Select an option",disableDivider:!0}),r.a.createElement(u.a,{sx:{p:0,m:1,ml:0,display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:700,gap:1}},r.a.createElement(S.a,{variant:"outlined",sx:{p:1,m:1,display:"flex",flexDirection:"column",justifyContent:"left",maxWidth:700}},r.a.createElement(u.a,{spacing:1,direction:"row",justifyContent:"left",flexWrap:"wrap",sx:{p:0,m:0,w:1,gap:1}},r.a.createElement(u.a,{spacing:1,direction:"row",flexWrap:"wrap",sx:{p:0,m:0,w:1,gap:1,display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(Ea.a,{url:d},r.a.createElement(ya.a,{size:32,round:!0})),r.a.createElement(xa.a,{url:d},r.a.createElement(wa.a,{size:32,round:!0})),r.a.createElement(ja.a,{url:d},r.a.createElement(Oa.a,{size:32,round:!0})),r.a.createElement(ka.a,{url:d},r.a.createElement(Ca.a,{size:32,round:!0})),r.a.createElement(Ta.CopyToClipboard,{text:d,onCopy:function(){e.setState({copied:!0,openSnack:!0})}},r.a.createElement(P.a,{startIcon:r.a.createElement(ba.a,null),variant:"contained",disableElevation:!0},"Copy Link"))),r.a.createElement(f.a,{variant:"caption",component:"div"},"Share your subscription link across other social media"))),r.a.createElement(C.a,{container:!0,spacing:1,direction:"row",justifyContent:"flex-start",wrap:"wrap",sx:{p:"1px",m:0,w:1}},r.a.createElement(Pa,{label:"Pending Payments",value:"Ksh. ".concat(n)}),r.a.createElement(Pa,{label:"My Rating",value:"".concat(i," %")}),r.a.createElement(Pa,{label:"Account Balance",value:"Ksh. ".concat(l)}),r.a.createElement(Pa,{label:"Total Earnings",value:"Ksh. ".concat(o),onClick:this.handleEarningsList,ignore:!0}),r.a.createElement(Pa,{label:"Today's Income - 40% Fee",value:"Ksh. ".concat(s),onClick:this.handleEarningsList,ignore:!0}),r.a.createElement(Pa,{label:"Monthly Income - 40% Fee",value:"Ksh. ".concat(c),onClick:this.handleEarningsList,ignore:!0})),r.a.createElement(C.a,{container:!0,spacing:1,direction:"row",justifyContent:"flex-start",wrap:"wrap",sx:{p:0,m:0,w:1}},r.a.createElement(Pa,{label:"Add Tips",onClick:this.handleAddTipsBtn}),r.a.createElement(Pa,{label:"View Latest Tips",o:!0,onClick:this.handleViewLatestTips}),r.a.createElement(Pa,{label:"Withdraw Requests",onClick:this.handleWithdrawRequestsList}),r.a.createElement(Pa,{label:"Published Tips",onClick:this.handleViewPublishedTips}),r.a.createElement(Pa,{label:"Settings",onClick:this.handleOpenSettings}),r.a.createElement(Pa,{label:"Withdraw Cash",onClick:this.handleOpenWithdrawCash}))),r.a.createElement(f.a,{variant:"caption",component:"div"},"Minimum withdrawal is Ksh. 500")))))}}]),t}(r.a.Component);var Da=Object(J.a)(function(e){var t=Object(d.o)();return r.a.createElement(Wa,Object.assign({},e,{navigator:t}))});function _a(e){var t=e.data,a=r.a.useState({slip:t.slip,tips:t.tips,user:t.user}),n=Object(m.a)(a,2),i=n[0],l=(n[1],function(e){var t=e.username;return r.a.createElement(g.a,{to:"/profile/".concat(t),underline:"hover",color:"black"},r.a.createElement(z.a,{size:"small",style:{cursor:"pointer"},sx:{"& .MuiChip-label":{fontFamily:"GT Walsheim Pro",fontWeight:"500",fontSize:"small"}},avatar:r.a.createElement(N.a,Object.assign({style:{color:"white",fontWeight:"bold"}},Le(t))),label:t}))});return function(){try{var t=[],a=function(e){var t=new Date(Date.parse(e));return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(t)};if(i.slip)for(var n=0;n<i.tips.length;n++){var o=new Date(i.tips[n].game_date),s=(o-Date.now())/36e5,c="";c=s>0?"Not Started":s>-3?"In play":"Played",t.push(r.a.createElement(M.a,{key:n,disablePadding:!0,divider:!0},r.a.createElement(A.a,{secondaryTypographyProps:{color:"black"},primaryTypographyProps:{color:"black",fontSize:"smaller"},primary:"".concat(i.tips[n].home_team," vs ").concat(i.tips[n].away_team),secondary:r.a.createElement(z.a,{size:"small",label:"".concat(a(o)," - ").concat(c),sx:{"& .MuiChip-label":{fontFamily:"GT Walsheim Pro",fontWeight:"500",fontSize:"small"}}})})))}return i.slip?r.a.createElement(C.a,{item:!0,sx:{m:0,p:0}},r.a.createElement(F.a,{elevation:0,variant:"outlined",sx:{m:0,minWidth:e.buy?"100%":270,maxWidth:"100%",width:270}},r.a.createElement(G.a,{sx:{maxWidth:"100%",minHeight:200}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",p:0}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"row",p:0,m:0,gap:1}},r.a.createElement(z.a,{size:"small",label:i.slip?a(i.slip.date_created):null,sx:{"& .MuiChip-label":{fontFamily:"GT Walsheim Pro",fontWeight:"500",fontSize:"small"}}}),r.a.createElement(l,{username:i.user.username})),r.a.createElement(R.a,{sx:{width:"100%"}},t))),r.a.createElement(q.a,null,r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",height:1,width:1}}," ",e.buy?null:r.a.createElement(P.a,{variant:"contained",size:"small",disableElevation:!0,sx:{width:1}},"BUY @Ksh. 50"))))):null}catch(d){return console.log(d),null}}()}var Ia=function(e){function t(e){var a;Object(b.a)(this,t);var n=(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).props,r=n.navigate,i=n.params;return i.id||r("/"),a.state={id:i.id,phoneNumber:null,phoneError:null,slip:null,loading:!1},a.handleLoadTip=a.handleLoadTip.bind(Object(_.a)(Object(_.a)(a))),a.handlePhoneNumberChange=a.handlePhoneNumberChange.bind(Object(_.a)(Object(_.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleLoadTip",value:function(){var e=this,t={method:"GET",url:"/api/slip/get/".concat(this.state.id)};Z.request(t).then(function(t){e.setState({slip:t.data})}).catch(function(e){})}},{key:"handlePhoneNumberChange",value:function(e){var t=e.target.value;this.setState({phoneNumber:t})}},{key:"handleSubmit",value:function(){var e=this;this.setState({phoneError:null,loading:!0});var t=this.state.phoneNumber;if(null==t||10!==t.length&&9!==t.length)this.setState({phoneError:"Enter Valid Phone Number",loading:!1});else{var a={method:"POST",url:"/api/processor/buy",headers:{"Content-Type":"application/json"},data:{phone:function(e){return 10===e.length?"254".concat(e.substring(1)):"254".concat(e)}(this.state.phoneNumber),slip:this.state.id}};Z.request(a).then(function(e){console.log(e.data),alert("Request Sent")}).catch(function(e){var t=e.response;t.data&&t.data.message?alert(t.data.message):alert(t.data)}).finally(function(){e.setState({loading:!1})})}}},{key:"componentDidMount",value:function(){this.handleLoadTip()}},{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(oe,{title:"SokaFans| Buy Tip ".concat(this.state.id)}),r.a.createElement(Ie,null,r.a.createElement(W,{sx:{pl:0},title:"Buy Tip",description:"Buy tip"}),r.a.createElement(u.a,{sx:{p:1,m:1,display:"flex",gap:1,flexDirection:"column",maxWidth:600}},r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},this.state.slip?r.a.createElement(_a,{data:this.state.slip,buy:!0}):r.a.createElement(u.a,{sx:{height:200,width:"100%",display:"flex",flexDirection:"column",gap:1}},r.a.createElement(T.a,null),r.a.createElement(T.a,null),r.a.createElement(T.a,{sx:{height:100}}))),r.a.createElement(u.a,{sx:{mt:1}},r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",gap:1}},r.a.createElement(f.a,null,"M-Pesa"),r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(ce.a,{htmlFor:"outlined-adornment-amount"},"Phone"),r.a.createElement(ue.a,{id:"outlined-adornment-amount",error:this.state.phoneError,helperText:this.state.phoneError,value:this.state.phoneNumber,onChange:this.handlePhoneNumberChange,startAdornment:r.a.createElement(de.a,{position:"start"},"+254"),label:"Phone"}),r.a.createElement(me.a,{error:!0},this.state.phoneError)),r.a.createElement(ye.a,{variant:"contained",disableElevation:!0,disabled:!1,loading:this.state.loading,onClick:this.handleSubmit},"Buy @ Ksh."," ",this.state.slip?this.state.slip.slip.price:"-"),r.a.createElement(f.a,null,"Enter your MPesa phone number to buy the tip."),r.a.createElement(ke.a,{severity:"info"},r.a.createElement(Ce.a,null,"Info"),"Tips are sent instantly via SMS \u2014 Ensure you have activated promotional messages !. ",r.a.createElement("strong",null,"Dial *456*9*5*5*1")),r.a.createElement(ke.a,{severity:"warning"},r.a.createElement(Ce.a,null,"More"),"Click "," ",r.a.createElement("a",{href:"/find_tip",target:"_blank"},"here")," "," "," to get your tip. After buying it.")))))))}}]),t}(r.a.Component);function Na(e){var t=Object(d.o)(),a=Object(d.q)();return r.a.createElement(Ia,Object.assign({},e,{navigate:t,params:a}))}function za(e){var t=e.children,a=Object($e.a)(["token"]),n=Object(m.a)(a,1)[0],i=Object(d.m)();return n.token?t:r.a.createElement(d.a,{to:"/",state:{from:i},replace:!0})}function Ma(){var e=Object(d.q)(),t=Object(d.o)(),a=r.a.useState(""),n=Object(m.a)(a,2),i=n[0],l=n[1],o=r.a.useState(""),s=Object(m.a)(o,2),c=s[0],h=s[1],p=r.a.useState(""),g=Object(m.a)(p,2),v=g[0],b=g[1],E=r.a.useState(""),y=Object(m.a)(E,2),x=y[0],w=y[1],j=r.a.useState(""),O=Object(m.a)(j,2),k=O[0],C=O[1],T=e.user_token;r.a.useEffect(function(){T||t("/")});return r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:0,mx:1,my:1,borderRadius:1,maxWidth:"100%",minWidth:350,alignSelf:"center",justifySelf:"center"}},r.a.createElement("form",null,r.a.createElement(u.a,{sx:{px:0,paddingTop:5,paddingBottom:0,display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(f.a,{id:"modal-modal-login-title",variant:"h5",component:"div",fontWeight:500},"Password Reset")),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:1,paddingX:3,paddingY:5,m:0}},r.a.createElement(nt,{label:"New Password",error:c,onChange:function(e){l(e.target.value)}}),r.a.createElement(nt,{label:"Confirm Password",error:x,onChange:function(e){b(e.target.value)}}),r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"column",justifyContent:"center",gap:3}},r.a.createElement(P.a,{variant:"contained",sx:{w:1,minWidth:"100%"},disableElevation:!0,onClick:function(){h(""),w(""),C("");var e=!1;if(i?i.length<8&&(h("At least 8 characters"),e=!0):(h("Fill This"),e=!0),!e&&(v?v!==i&&(w("This should be similar to the password"),e=!0):(w("Fill this"),e=!0),!e)){var t={method:"POST",url:"/api/account/reset-password/confirm/",headers:{"Content-Type":"application/json"},data:{password:i,token:T}};Z.request(t).then(function(){C("Password set successfully.")}).catch(function(e){var t=e.response.data;t.password?C(t.password[0]):C("Invalid token. Repeat the process.")})}}},"Reset The Password"),r.a.createElement(f.a,{variant:"caption",display:"block",color:"red"},k))))))}var Aa=a(487),Fa=a(801),Ga=Object(O.a)(Fa.a)(function(e){e.theme;return{fontFamily:["GT Walsheim Pro"].join(","),"& .MuiDataGrid-columnHeaderTitle":{fontWeight:500,fontFamily:"GT Walsheim Pro"}}});function Ra(e){var t=e.tips,a=r.a.useState(!1),n=Object(m.a)(a,2),i=n[0],l=n[1];r.a.useEffect(function(){e.tips&&e.tips.length>0?l(!0):l(!1)});var o=[];if(t)for(var s=0;s<t.length;s++)o.push(r.a.createElement(M.a,{key:s,disablePadding:!0,divider:!0},r.a.createElement(A.a,{secondaryTypographyProps:{color:"black"},secondary:"".concat(t[s].home_team," vs ").concat(t[s].away_team)})));return r.a.createElement(h.a,{open:i,onClose:function(){e.handleClose()}},r.a.createElement(H.a,null,"Tips"),r.a.createElement(p.a,null,r.a.createElement(R.a,{sx:{width:"100%"}},o)))}function qa(e,t,a,n){var i=e.slip,l=e.tips,o=e.user;return r.a.useEffect(function(){document.title="SokaFans| Active Tips"}),console.log(e),console.log(l),{id:t,slip_id:i.id,navigate:a,date:i.date_created,username:o.username,rating:0,count:e.tips.length,games:e.tips,price:50,viewTip:n}}var Ba=[{field:"id",headerName:"ID",width:5,flex:1},{field:"profile_pic",headerName:"PC",minWidth:35,flex:1,renderCell:function(e){return r.a.createElement(N.a,{sx:{width:24,height:24},src:e.row.profile_pic})}},{field:"username",headerName:"Tipster",minWidth:100,flex:1,editable:!1,renderCell:function(e){return r.a.createElement(g.a,{fontWeight:"bold",fontFamily:"GT Walsheim Pro",fontSize:"small",underline:"hover",style:{color:"black"},to:"/profile/".concat(e.row.username)},e.row.username)}},{field:"rating",headerName:"Rating",type:"number",minWidth:70,flex:1,editable:!1,sortable:!0},{field:"date",headerName:"Date",minWidth:110,flex:2,type:"date",editable:!1,sortable:!0,renderCell:function(e){return r.a.createElement(f.a,{variant:"subtitle1"},e.row.date)}},{field:"count",headerName:"Count",minWidth:60,flex:1},{field:"games",headerName:"Tip",minWidth:75,flex:1,renderCell:function(e){return r.a.createElement(P.a,{variant:"contained",disableElevation:!0,size:"small",textSizeSmall:!0,value:e.row.slip_id,onClick:e.row.viewTip},"View")}},{field:"price",headerName:"Price",minWidth:75,flex:1,type:"number",editable:!1,renderCell:function(e){return"Ksh. ".concat(e.row.price)}},{field:"buy",headerName:"Buy",minWidth:75,flex:1,renderCell:function(e){return r.a.createElement(P.a,{variant:"contained",disableElevation:!0,size:"small",onClick:function(){e.row.navigate("/buy_tip/".concat(e.row.slip_id))}},"Buy")}}],Ua=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={activeTips:null,open:!1,tips:[]},a.handleLoadActiveTips=a.handleLoadActiveTips.bind(Object(_.a)(Object(_.a)(a))),a.handleViewTip=a.handleViewTip.bind(Object(_.a)(Object(_.a)(a))),a.handleCloseModal=a.handleCloseModal.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){document.title="SokaFans| Active Tips",this.handleLoadActiveTips()}},{key:"handleViewTip",value:function(e){var t=e.target.value,a=null;this.state.activeTips&&(a=this.state.activeTips.find(function(e){return e.slip_id===parseInt(t)})),a&&(console.log("Tip View"),console.log(a),this.setState({open:!0,tips:a.games}))}},{key:"handleCloseModal",value:function(){this.setState({open:!1,tips:null})}},{key:"handleLoadActiveTips",value:function(){var e=this,t=this.props,a=t.navigate,n=t.params.username;Z.request({method:"GET",url:"/api/home/active"}).then(function(t){var r=t.data.slips,i=1;r.map(function(t){return n&&t.user.username!==n?null:(e.setState(function(n){return{activeTips:[].concat(Object(Mt.a)((r=n.activeTips,r||[])),[qa(t,i++,a,e.handleViewTip)])};var r}),null)})}).catch(function(e){console.log("Error",e.response.data)})}},{key:"render",value:function(){return r.a.createElement(u.a,{sx:{p:1,m:0,gap:1,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(oe,{title:" SokaFans | Active Tips"}),r.a.createElement(ne,{sx:1}),r.a.createElement(Ra,{openDialoag:this.state.open,handleClose:this.handleCloseModal,tips:this.state.tips}),r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:0,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:2},title:"Active Tips",description:"Select an option",disableDivider:!0}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",minHeight:500}},this.state.activeTips?r.a.createElement(Ga,{rows:this.state.activeTips,columns:Ba,pageSize:10,rowsPerPageOptions:[10],disableSelectionOnClick:!0}):r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:450,m:0}},r.a.createElement(Aa.a,null))))))}}]),t}(r.a.Component);var Va=Object(J.a)(function(e){var t=Object(d.o)(),a=Object(d.q)();return r.a.createElement(Ua,Object.assign({},e,{navigate:t,params:a}))});function Ha(e,t,a,n){var r=e.slip,i=e.user,l=e.meta;return console.log(e),{id:t,slip_id:r.id,navigate:a,date:r.date_created,username:i.username,profile_pic:l.profile,rating:l.rating,games:e.tips,price:50,viewTip:n,result:r.slip_result}}var Xa=[{field:"id",headerName:"ID",width:10},{field:"profile_pic",headerName:"PC",minWidth:35,flex:1,renderCell:function(e){return t=e.row.profile_pic,a=e.row.username,t?r.a.createElement(N.a,{sx:{ml:0,p:0,width:24,height:24},alt:"Profile Pic",src:t}):r.a.createElement(N.a,Pe({name:a,sx:{ml:0,p:0,width:24,height:24,fontSize:"smaller",fontWeight:500}}));var t,a}},{field:"username",headerName:"Tipster",minWidth:150,flex:1,editable:!1,renderCell:function(e){return r.a.createElement(g.a,{fontWeight:"bold",fontFamily:"GT Walsheim Pro",fontSize:"small",underline:"hover",style:{color:"black"},to:"/profile/".concat(e.row.username)},e.row.username)}},{field:"rating",headerName:"Rating",type:"number",minWidth:70,flex:1,editable:!1,sortable:!0},{field:"date",headerName:"Date",minWidth:110,flex:1,type:"date",editable:!1,sortable:!0},{field:"result",headerName:"Result",minWidth:75,flex:1,renderCell:function(e){return"W"===e.row.result?r.a.createElement(z.a,{label:"won",color:"success"}):"L"===e.row.result?r.a.createElement(z.a,{label:"lost",color:"error"}):r.a.createElement(z.a,{label:"cancel"})}},{field:"games",headerName:"Tip",minWidth:75,flex:1,renderCell:function(e){return r.a.createElement(P.a,{variant:"contained",disableElevation:!0,size:"small",value:e.row.slip_id,onClick:e.row.viewTip},"View")}}],Ya=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={finishedTips:[],open:!1,tips:[],markets:[]},a.handleLoadFinishedTips=a.handleLoadFinishedTips.bind(Object(_.a)(Object(_.a)(a))),a.handleViewTip=a.handleViewTip.bind(Object(_.a)(Object(_.a)(a))),a.handleCloseModal=a.handleCloseModal.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadMarkets=a.handleLoadMarkets.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.handleLoadFinishedTips(),this.handleLoadMarkets()}},{key:"handleLoadMarkets",value:function(){var e=this;Z.request({method:"GET",url:"/api/slip/markets"}).then(function(t){var a=t.data.markets;e.setState({markets:a})}).catch(function(e){e&&console.log(e.response)})}},{key:"handleLoadFinishedTips",value:function(){var e=this,t=this.props,a=t.navigate,n=t.params.username;Z.request({method:"GET",url:"/api/home/finished"}).then(function(t){for(var r=t.data.slips,i=1,l=function(){var t=r[o];if(n&&t.user.username!==n)return"continue";e.setState(function(n){return{finishedTips:[].concat(Object(Mt.a)((r=n.finishedTips,r||[])),[Ha(t,i++,a,e.handleViewTip)])};var r})},o=0;o<r.length;o++)l()}).catch(function(e){e&&console.log("Error",e.response.data)})}},{key:"handleCloseModal",value:function(){this.setState({open:!1,tips:null})}},{key:"handleViewTip",value:function(e){var t=e.target.value,a=null;this.state.finishedTips&&(a=this.state.finishedTips.find(function(e){return e.slip_id===parseInt(t)})),a&&(console.log("Tip View"),console.log(a),this.setState({open:!0,tips:a.games}))}},{key:"render",value:function(){return r.a.createElement(u.a,{sx:{p:0,m:0,display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{sx:{p:1,m:0,gap:0,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(ne,{sx:1}),r.a.createElement(Ra,{openDialoag:this.state.open,handleClose:this.handleCloseModal,tips:this.state.tips,markets:this.state.markets}),r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:2},title:"Finished Tips",description:"Historical data",disableDivider:!0}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",minHeight:500}},0===this.state.finishedTips.length?r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:450,m:0}},r.a.createElement(Aa.a,null)):r.a.createElement(Ga,{rows:this.state.finishedTips,columns:Xa,pageSize:100,rowsPerPageOptions:[100],disableSelectionOnClick:!0}))))))}}]),t}(r.a.Component);var Ka=Object(J.a)(function(e){var t=Object(d.o)(),a=Object(d.q)();return r.a.createElement(Ya,Object.assign({},e,{navigate:t,params:a}))});function Ja(e,t,a,n){var r={user:e.user,profile:e.profile,stats:e.stats,stats2:e.stats2,active_tips:e.active_tips,finished_tips:e.finished_tips};return{id:t,username:r.user.username,profile_pic:r.profile.profile_image_url,tips:r.stats[0].tips,won:r.stats[1].won,lost:r.stats[3].lost,week_rating:r.stats2.week_rating,rating:r.stats[4].rating,navigate:a}}re.a.initialize("G-4MYXBP6X4T"),re.a.pageview(window.location.pathname+window.location.search);var $a=[{field:"profile_pic",headerName:"Profile",minWidth:35,flex:1,renderCell:function(e){return t=e.row.profile_pic,a=e.row.username,t?r.a.createElement(N.a,{sx:{ml:0,p:0,width:24,height:24},alt:"Profile Pic",src:t}):r.a.createElement(N.a,Pe({name:a,sx:{ml:0,p:0,width:24,height:24,fontSize:"smaller",fontWeight:500}}));var t,a}},{field:"username",headerName:"Tipster",minWidth:100,flex:1,editable:!1,renderCell:function(e){return r.a.createElement(g.a,{fontWeight:"bold",fontFamily:"GT Walsheim Pro",fontSize:"small",underline:"hover",style:{color:"black"},to:"/profile/".concat(e.row.username)},e.row.username)}},{field:"tips",headerName:"Tips",type:"number",width:55,flex:1,editable:!1,sortable:!0},{field:"won",headerName:"Won",type:"number",width:55,flex:1,editable:!1,sortable:!0},{field:"lost",headerName:"Lost",type:"number",width:55,flex:1,editable:!1,sortable:!0},{field:"rating",headerName:"Rating",type:"number",minWidth:75,flex:1,editable:!1,sortable:!0},{field:"week_rating",headerName:"Weekly Rating",type:"number",minWidth:75,flex:1,editable:!1,sortable:!0},{field:"profile",headerName:"Profile",minWidth:75,flex:1,renderCell:function(e){return r.a.createElement(P.a,{variant:"contained",disableElevation:!0,size:"small",onClick:function(){e.row.navigate("/profile/".concat(e.row.username))}},"View")}}],Za=function(e){function t(e){var a;Object(b.a)(this,t),a=Object(y.a)(this,Object(x.a)(t).call(this,e));var n=Object(m.a)(e.query,2),r=n[0];n[1];return a.state={tipsters:[],query:r},a.handleLoadAllProfiles=a.handleLoadAllProfiles.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleLoadAllProfiles",value:function(){var e=this,t=this.props.navigate,a="weekly"===this.state.query.get("type")?1:0,n={method:"GET",url:"/v2/api/tipster/data/?all=1&weekly=".concat(a)};Z.request(n).then(function(a){for(var n=a.data.results,r=function(a){e.setState(function(e){return{tipsters:[].concat(Object(Mt.a)(e.tipsters),[Ja(n[a].result,a+1,t)])}})},i=0;i<n.length;i++)r(i)}).catch(function(e){e&&console.error(e)})}},{key:"componentDidMount",value:function(){this.handleLoadAllProfiles()}},{key:"render",value:function(){return r.a.createElement(u.a,{sx:{p:1,m:0,gap:1,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(oe,{title:"SokaFans| Top Tipsters"}),r.a.createElement(ne,{sx:1}),r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:0,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:2},title:"Top Tipsters",description:"Select an option",disableDivider:!0}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",minHeight:500}},0===this.state.tipsters.length?r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:450,m:0}},r.a.createElement(Aa.a,null)):r.a.createElement(Ga,{initialState:{sorting:{sortModel:[{field:"rating",sort:"desc"}]}},rows:this.state.tipsters,columns:$a,pageSize:100,rowsPerPageOptions:[100],disableSelectionOnClick:!0})))))}}]),t}(r.a.Component);var Qa=Object(J.a)(function(e){var t=Object(d.o)(),a=Object(kt.c)();return r.a.createElement(Za,Object.assign({},e,{navigate:t,query:a}))});function en(e,t){return{id:t,amount:e.amount,slip:e.slip,status:e.status,date:Date.parse(e.date)}}var tn=[{field:"id",headerName:"ID",width:10},{field:"amount",headerName:"Amount",minWidth:120,flex:1},{field:"date",headerName:"Date",minWidth:150,flex:1,renderCell:function(e){return r.a.createElement(f.a,{variant:"body1"},(t=new Date(e.row.date),"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())));var t}},{field:"slip",headerName:"Slip ID",minWidth:80,flex:1,editable:!1,renderCell:function(e){return r.a.createElement(g.a,{fontWeight:"bold",fontFamily:"GT Walsheim Pro",fontSize:"small",underline:"hover",style:{color:"black"},to:"/dashboard/slip/".concat(e.row.slip)},e.row.slip)}},{field:"status",headerName:"Status",minWidth:130,flex:1,renderCell:function(e){var t=e.row.status;return"W"===t?r.a.createElement(z.a,{label:"pending",color:"primary",variant:"outlined",size:"small"}):"P"===t?r.a.createElement(z.a,{label:"paid",color:"success",variant:"outlined",size:"small"}):r.a.createElement(z.a,{label:"unpaid",variant:"outlined",size:"small"})}}],an=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={payments:[],username:null,loading:!0},a.handleLoadPayments=a.handleLoadPayments.bind(Object(_.a)(Object(_.a)(a))),a.handleViewTip=a.handleViewTip.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.handleLoadPayments()}},{key:"handleViewTip",value:function(e){}},{key:"handleLoadPayments",value:function(){var e=this,t=this.props.cookies.get("token"),a={method:"GET",url:"/api/finance/get_payments",headers:{Authorization:"Bearer ".concat(t)}};Z.request(a).then(function(t){var a=t.data.payments,n=1;a.map(function(t){return e.setState(function(e){return{payments:[].concat(Object(Mt.a)(e.payments),[en(t,n++)])}}),null}),e.setState({loading:!1}),console.log(a)}).catch(function(){e.setState({loading:!1})})}},{key:"render",value:function(){return r.a.createElement(u.a,{sx:{p:1,m:0,gap:0,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(ne,{sx:1}),r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:2},title:"Payments",description:"Passed payments",disableDivider:!0}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",minHeight:500}},this.state.loading?r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:450,m:0}},r.a.createElement(Aa.a,null)):r.a.createElement(Ga,{rows:this.state.payments,columns:tn,pageSize:10,rowsPerPageOptions:[10],disableSelectionOnClick:!0})))))}}]),t}(r.a.Component);var nn=Object(J.a)(function(e){var t=Object(d.o)();return r.a.createElement(an,Object.assign({},e,{navigate:t}))});function rn(e,t){var a=e.amount,n=e.status,r=e.phone_number,i=e.date;return{id:t,amount:a,status:n,phone:r,balance:a-e.total_paid,date:Date.parse(i)}}var ln=[{field:"id",headerName:"ID",width:10},{field:"amount",headerName:"Amount",minWidth:120,flex:1},{field:"balance",headerName:"Balance",minWidth:120,flex:1},{field:"date",headerName:"Date",minWidth:150,flex:1,renderCell:function(e){return r.a.createElement(f.a,{variant:"body1"},(t=new Date(e.row.date),"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())));var t}},{field:"phone",headerName:"Phone",minWidth:120,flex:1},{field:"status",headerName:"Status",minWidth:130,flex:1,renderCell:function(e){var t=e.row.status;return"P"===t?r.a.createElement(z.a,{label:"pending",color:"primary",variant:"outlined",size:"small"}):"W"===t?r.a.createElement(z.a,{label:"paid",color:"success",variant:"outlined",size:"small"}):r.a.createElement(z.a,{label:"unpaid",variant:"outlined",size:"small"})}}],on=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={withdrawals:[],username:null,loading:!0},a.handleLoadPayments=a.handleLoadPayments.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.handleLoadPayments()}},{key:"handleLoadPayments",value:function(){var e=this,t=this.props.cookies.get("token"),a={method:"GET",url:"/api/finance/withdrawals",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};Z.request(a).then(function(t){var a=t.data.withdrawals,n=1;a.map(function(t){e.setState(function(e){return{withdrawals:[].concat(Object(Mt.a)(e.withdrawals),[rn(t,n++)])}})}),e.setState({loading:!1}),console.log(a)}).catch(function(t){console.log(t.response),e.setState({loading:!1})})}},{key:"render",value:function(){return r.a.createElement(u.a,{sx:{p:1,m:0,gap:0,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(ne,{sx:1}),r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:2},title:"Withdraw Requests",description:"Withdrawals",disableDivider:!0}),r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",minHeight:500}},this.state.loading?r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:450,m:0}},r.a.createElement(Aa.a,null)):r.a.createElement(Ga,{rows:this.state.withdrawals,columns:ln,pageSize:100,rowsPerPageOptions:[100],disableSelectionOnClick:!0})))))}}]),t}(r.a.Component);var sn=Object(J.a)(function(e){var t=Object(d.o)();return r.a.createElement(on,Object.assign({},e,{navigate:t}))});function cn(){return r.a.createElement(u.a,{sx:{p:1,m:0,gap:1,display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100%"}},r.a.createElement(Ie,null,r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h1",component:"div",alignSelf:"center"},"404"),r.a.createElement(f.a,{variant:"h5"},"Page Not Found")))))}var un=a(533),dn=a(529),mn=function(e){function t(e){var a;Object(b.a)(this,t),a=Object(y.a)(this,Object(x.a)(t).call(this,e));var n,r=Object(m.a)(e.query,2),i=r[0];r[1];return i.get("tips")&&(n={gameA:i.get("team_a"),gameB:i.get("team_b")}),a.state={activeTips:[],tipFilters:n,query:i,page:1,nextPage:null,prevPage:null,defaultUrl:"/v2/api/slip/data/?",url:"/v2/api/slip/data/?",numPages:null},a.handleLoadActiveTips=a.handleLoadActiveTips.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadNextPage=a.handleLoadNextPage.bind(Object(_.a)(Object(_.a)(a))),a.handleLoadPrevPage=a.handleLoadPrevPage.bind(Object(_.a)(Object(_.a)(a))),a.handleProcessFilters=a.handleProcessFilters.bind(Object(_.a)(Object(_.a)(a))),a.handleChangePage=a.handleChangePage.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleProcessFilters",value:function(e){console.log(e);var t=this.state,a=t.filters,n="top"===t.query.get("type");return a&&(a.gameA&&(e+="&home_team=".concat(a.gameA)),a.gameB&&(e+="&away_team=".concat(a.gameB)),a.username&&(e+="&username=".concat(a.username))),n&&(e+="&top=1"),e}},{key:"handleLoadNextPage",value:function(){var e=this.state,t=e.defaultUrl,a=e.nextPage,n=this.handleProcessFilters(t+"p=".concat(a));this.setState({url:n})}},{key:"handleLoadPrevPage",value:function(){var e=this.state,t=e.defaultUrl,a=e.prevPage,n=this.handleProcessFilters(t+"p=".concat(a));this.setState({url:n}),this.handleLoadActiveTips()}},{key:"handleLoadActiveTips",value:function(){var e=this,t=this.state,a=t.query,n=t.defaultUrl;this.setState({activeTips:[]});a.get("type");var r={method:"GET",url:this.handleProcessFilters(n)};console.log(this.state.url),Z.request(r).then(function(t){var a=t.data;e.setState({activeTips:a.results,nextPage:a.next,prevPage:a.previous,numPages:a.num_pages})}).catch(function(e){alert("Error: Can't Find Page")})}},{key:"handleChangePage",value:function(e,t){var a=this;this.state.query;this.setState({page:t,activeTips:[]}),console.log(t);var n=this.state,r=n.defaultUrl,i=(n.page,this.handleProcessFilters(r+"p=".concat(t)));console.log(i);var l={method:"GET",url:i};Z.request(l).then(function(e){var t=e.data;a.setState({activeTips:t.results,nextPage:t.next,prevPage:t.previous,numPages:t.num_pages}),console.log("Loaded")}).catch(function(e){alert("Error: Can't Find Page"),console.log("Error")})}},{key:"componentDidMount",value:function(){this.handleLoadActiveTips()}},{key:"render",value:function(){var e=this.state.activeTips,t=this.props.navigate;console.log(e[0]);var a=[];if(e&&0!==e.length)for(var n=0;n<e.length;n++)a.push(r.a.createElement(U,{slip:e[n].result,navigate:t}));else for(var i=0;i<2;i++)a.push(r.a.createElement(C.a,{item:!0,xs:12,sm:6,md:4,lg:3,sx:{p:1,"@media screen and (max-width: 600px)":{width:"100%"}}},r.a.createElement(T.a,{variant:"rectangular",width:"100%",height:257})));return r.a.createElement(u.a,{sx:{p:0,m:1,minHeight:500}},r.a.createElement(oe,{title:" SokaFans| Active Tips"}),r.a.createElement(Ie,null,r.a.createElement(ne,{sx:1}),r.a.createElement(S.a,{square:!0,elevation:1,sx:{py:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(W,{sx:{pl:0},title:"Active Tips",description:"View user information"}),r.a.createElement(k.a,{sx:{mt:1,p:0}},r.a.createElement(u.a,{sx:{p:0,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(u.a,{sx:{p:0,display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(un.a,{spacing:2},r.a.createElement(dn.a,{count:this.state.numPages,page:this.state.page,color:"primary",onChange:this.handleChangePage,variant:"outlined",shape:"rounded"}))),r.a.createElement(C.a,{container:!0,spacing:0,sx:{m:0,p:0,maxWidth:"100%"}},a.map(function(e){return e})),r.a.createElement(u.a,{sx:{p:0,display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(un.a,{spacing:2},r.a.createElement(dn.a,{count:this.state.numPages,page:this.state.page,color:"primary",onChange:this.handleChangePage,variant:"outlined",shape:"rounded"}))))))))}}]),t}(r.a.Component);r.a.Component;function hn(e){var t=Object(d.o)(),a=Object(kt.c)();return r.a.createElement(mn,Object.assign({query:a,navigate:t},e))}function pn(e){for(var t=e.data,a=[],n=0;n<t.length;n++){var i=t[n];a.push(r.a.createElement(M.a,{key:n,disablePadding:!0,divider:!0},r.a.createElement(A.a,{primary:"".concat(i.Game," | ").concat(i.League),secondary:i.Tip})))}return r.a.createElement(C.a,{item:!0,sx:{m:0,p:0}},r.a.createElement(F.a,{elevation:0,variant:"outlined",sx:{m:0,minWidth:"100%",maxWidth:"100%",width:270}},r.a.createElement(G.a,{sx:{maxWidth:"100%",minHeight:200}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",p:0}},r.a.createElement(R.a,{sx:{width:"100%"}},a)))))}var fn=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).state={phoneNumber:null,phoneError:null,mpesaCode:null,mpesaError:null,loading:!1,visible:!1,tips:[]},a.handleSubmit=a.handleSubmit.bind(Object(_.a)(Object(_.a)(a))),a.handlePhoneNumberChange=a.handlePhoneNumberChange.bind(Object(_.a)(Object(_.a)(a))),a.handleMpesaTransactionChange=a.handleMpesaTransactionChange.bind(Object(_.a)(Object(_.a)(a))),a}return Object(w.a)(t,e),Object(E.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({phoneError:null,mpesaError:null,loading:!0,visible:!1});var a=this.state.phoneNumber,n=this.state.mpesaCode;if(null==a||10!==a.length&&9!==a.length)this.setState({phoneError:"Enter Valid Phone Number",loading:!1});else if(null==n||n.length<5)this.setState({mpesaError:"Invalid transaction code",loading:!1});else{var r={method:"post",url:"/api/manage/find-slip/".concat(function(e){return 10===e.length?"254".concat(e.substring(1)):"254".concat(e)}(a),"/").concat(n.toUpperCase().trim())};Z(r).then(function(e){var a=e.data;t.setState({tips:a.tip,visible:!0})}).catch(function(e){var t=e.response;t.data.message&&alert(t.data.message),console.log(e)}).finally(function(){t.setState({loading:!1})})}}},{key:"handlePhoneNumberChange",value:function(e){var t=e.target.value;this.setState({phoneNumber:t})}},{key:"handleMpesaTransactionChange",value:function(e){var t=e.target.value;this.setState({mpesaCode:t})}},{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(oe,{title:"SokaFans| Find My Tip"}),r.a.createElement(Ie,null,r.a.createElement(W,{sx:{pl:0},title:"Find My Tip",description:"Enter your details to get your recently bought tip"}),r.a.createElement(u.a,{sx:{p:1,m:1,display:"flex",gap:1,flexDirection:"column",maxWidth:600}},r.a.createElement(u.a,{sx:{my:1}},r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},r.a.createElement(u.a,{sx:{display:"flex",flexDirection:"column",gap:1}},r.a.createElement(f.a,null,"Enter Transaction Details"),r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(ce.a,{htmlFor:"outlined-adornment-amount"},"Phone"),r.a.createElement(ue.a,{id:"outlined-adornment-amount",error:this.state.phoneError,helperText:this.state.phoneError,value:this.state.phoneNumber,onChange:this.handlePhoneNumberChange,startAdornment:r.a.createElement(de.a,{position:"start"},"+254"),label:"Mpesa Phone Number"}),r.a.createElement(me.a,{error:!0},this.state.phoneError)),r.a.createElement(se.a,{fullWidth:!0},r.a.createElement(ce.a,{htmlFor:"outlined-adornment-amount"},"Mpesa Transaction | Mpesa Transaction Code"),r.a.createElement(ue.a,{id:"outlined-adornment-amount",error:this.state.mpesaError,helperText:this.state.mpesaError,value:this.state.mpesaCode,onChange:this.handleMpesaTransactionChange,label:"Mpesa Transaction Code"}),r.a.createElement(me.a,{error:!0},this.state.mpesaError)),r.a.createElement(ye.a,{variant:"contained",disableElevation:!0,disabled:!1,loading:this.state.loading,onClick:this.handleSubmit},"Find")))),r.a.createElement(S.a,{square:!0,elevation:1,sx:{p:1,mx:0,my:1,width:"100%",height:"100%",borderRadius:1}},this.state.visible&&(this.state.tips?r.a.createElement(pn,{data:this.state.tips}):r.a.createElement(u.a,{sx:{height:200,width:"100%",display:"flex",flexDirection:"column",gap:1}},r.a.createElement(T.a,null),r.a.createElement(T.a,null),r.a.createElement(T.a,{sx:{height:100}})))))))}}]),t}(r.a.Component);function gn(){return r.a.useEffect(function(){re.a.pageview(window.location.pathname+window.location.search)},[]),r.a.createElement(kt.a,null,r.a.createElement(d.e,null,r.a.createElement(d.c,{path:"/",element:r.a.createElement(Nt,null)},r.a.createElement(d.c,{index:!0,element:r.a.createElement(Jt,null)}),r.a.createElement(d.c,{exact:!0,path:"profile",element:r.a.createElement(za,null,r.a.createElement(_e,null))}),r.a.createElement(d.c,{path:"profile/:username",element:r.a.createElement(_e,null)}),r.a.createElement(d.c,{path:"profile/finished_tips/:username",element:r.a.createElement(Ka,null)}),r.a.createElement(d.c,{path:"profile/active_tips/:username",element:r.a.createElement(Va,null)}),r.a.createElement(d.c,{path:"account_settings",element:r.a.createElement(za,null,r.a.createElement(fa,null))}),r.a.createElement(d.c,{path:"dashboard",element:r.a.createElement(za,null,r.a.createElement(Da,null))}),r.a.createElement(d.c,{path:"dashboard/add_tips",element:r.a.createElement(za,null,r.a.createElement(aa,null))}),r.a.createElement(d.c,{path:"dashboard/earnings",element:r.a.createElement(za,null,r.a.createElement(nn,null))}),r.a.createElement(d.c,{path:"dashboard/withdraw",element:r.a.createElement(za,null,r.a.createElement(sn,null))}),r.a.createElement(d.c,{path:"dashboard/finished_tips/:username",element:r.a.createElement(za,null,r.a.createElement(Ka,null))}),r.a.createElement(d.c,{path:"dashboard/active_tips/:username",element:r.a.createElement(za,null,r.a.createElement(Va,null))}),r.a.createElement(d.c,{path:"change_password",element:r.a.createElement(Ma,null)},r.a.createElement(d.c,{path:":user_token",element:r.a.createElement(Ma,null)})),r.a.createElement(d.c,{path:"buy_tip",element:r.a.createElement(Na,null)},r.a.createElement(d.c,{path:":id",element:r.a.createElement(Na,null)})),r.a.createElement(d.c,{path:"active_tips",element:r.a.createElement(hn,null)},r.a.createElement(d.c,{path:":username",element:r.a.createElement(Va,null)})),r.a.createElement(d.c,{path:"finished_tips",element:r.a.createElement(Ka,null)},r.a.createElement(d.c,{path:":username",element:r.a.createElement(Ka,null)})),r.a.createElement(d.c,{path:"top_tipsters",element:r.a.createElement(Qa,null)}),r.a.createElement(d.c,{path:"find_tip",element:r.a.createElement(fn,null)}),r.a.createElement(d.c,{path:"*",element:r.a.createElement(cn,null)}))))}re.a.initialize("G-4MYXBP6X4T");var vn=l.a.createRoot(document.getElementById("root"));console.log=function(){},console.error=function(){},console.debug=function(){},vn.render(r.a.createElement(o.a,null,r.a.createElement(gn,null)))}},[[607,1,2]]]);
//# sourceMappingURL=main.6d20ed37.chunk.js.map